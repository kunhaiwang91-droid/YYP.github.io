<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="ArtVault Pro - Êô∫ËÉΩËâ∫ÊúØÈ¶ÜËóèÁÆ°ÁêÜÂπ≥Âè∞">
    <meta name="theme-color" content="#d4af37">
    <title>ArtVault Pro - Ëâ∫ÊúØÈ¶ÜÊô∫ËÉΩÈ¶ÜËóèÁÆ°ÁêÜ</title>
    <link rel="manifest" id="manifest-link">
    <style>
        /* ‰øùÊåÅ‰πãÂâçÁöÑÊâÄÊúâÊ†∑Âºè‰∏çÂèò */
        :root {
            --bg-primary: #0f0f13;
            --bg-secondary: #1a1a23;
            --bg-card: #242433;
            --bg-hover: #2d2d3f;
            --accent-gold: #d4af37;
            --accent-purple: #8b5cf6;
            --accent-green: #10b981;
            --accent-red: #ef4444;
            --accent-blue: #3b82f6;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #6b6b78;
            --border-color: #2d2d3f;
            --border-light: #3a3a4d;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --radius: 12px;
            --radius-sm: 8px;
            --radius-lg: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', system-ui, -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, #16161f 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ÊªöÂä®Êù°ÁæéÂåñ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-gold);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #c5a030;
        }

        /* È™®Êû∂Â±èÂä®Áîª */
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        .skeleton {
            background: linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-hover) 50%, var(--bg-secondary) 75%);
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
            border-radius: var(--radius-sm);
        }

        /* Ê†∏ÂøÉÂ∏ÉÂ±Ä */
        .container {
            display: flex;
            min-height: 100vh;
            position: relative;
        }

        /* ‰æßËæπÂØºËà™ - Â¢ûÂº∫Áâà */
        .sidebar {
            width: 280px;
            background: var(--bg-secondary);
            padding: 20px;
            border-right: 1px solid var(--border-color);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            background: rgba(26, 26, 35, 0.95);
        }

        .sidebar.collapsed {
            width: 70px;
        }

        .sidebar.collapsed .logo-text,
        .sidebar.collapsed .nav-text,
        .sidebar.collapsed .user-info {
            display: none;
        }

        .sidebar.collapsed .nav-btn {
            justify-content: center;
            padding: 12px;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--accent-gold);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo::before {
            content: "üé®";
            font-size: 28px;
            filter: drop-shadow(0 0 8px rgba(212, 175, 55, 0.5));
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 8px;
        }

        .nav-btn {
            width: 100%;
            padding: 12px 15px;
            background: transparent;
            border: 1px solid transparent;
            color: var(--text-secondary);
            border-radius: var(--radius-sm);
            cursor: pointer;
            text-align: left;
            transition: var(--transition);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background: var(--accent-gold);
            transform: scaleY(0);
            transition: var(--transition);
        }

        .nav-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
            border-color: var(--border-light);
        }

        .nav-btn:hover::before {
            transform: scaleY(1);
        }

        .nav-btn.active {
            background: linear-gradient(90deg, rgba(212, 175, 55, 0.15), transparent);
            color: var(--accent-gold);
            border-color: rgba(212, 175, 55, 0.3);
            font-weight: 600;
        }

        .nav-btn.active::before {
            transform: scaleY(1);
        }

        .user-info {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            font-size: 12px;
            color: var(--text-muted);
        }

        /* ‰∏ªÂÜÖÂÆπÂå∫ */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 30px;
            transition: var(--transition);
        }

        .main-content.expanded {
            margin-left: 70px;
        }

        /* È°∂ÈÉ®Ê†è */
        .header {
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header h1 {
            font-size: 28px;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.5px;
        }

        .header-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* ÊåâÈíÆÁ≥ªÁªü */
        .btn {
            padding: 10px 16px;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:active::after {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-gold), #f0c040);
            color: var(--bg-primary);
            box-shadow: 0 2px 8px rgba(212, 175, 55, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.5);
        }

        .btn-secondary {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--bg-hover);
            border-color: var(--accent-purple);
            color: var(--accent-purple);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--accent-red), #dc2626);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--accent-green), #059669);
            color: white;
        }

        .btn-icon {
            padding: 8px;
            min-width: 36px;
            justify-content: center;
        }

        /* ÊêúÁ¥¢ÂíåÁ≠õÈÄâ - Â¢ûÂº∫Áâà */
        .search-section {
            background: var(--bg-card);
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 25px;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
        }

        .search-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .search-input-wrapper {
            position: relative;
            flex: 1;
            min-width: 200px;
        }

        .search-input {
            width: 100%;
            padding: 12px 40px 12px 15px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-size: 14px;
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .search-clear {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 4px;
            display: none;
        }

        .search-input:not(:placeholder-shown) + .search-clear {
            display: block;
        }

        .filter-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-tag {
            padding: 6px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: var(--transition);
            user-select: none;
        }

        .filter-tag:hover {
            background: var(--bg-hover);
            border-color: var(--accent-purple);
        }

        .filter-tag.active {
            background: var(--accent-purple);
            border-color: var(--accent-purple);
            color: white;
            font-weight: 600;
        }

        .filter-count {
            margin-left: 8px;
            font-size: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 2px 6px;
            border-radius: 10px;
        }

        /* ËßÜÂõæÂÆπÂô® */
        .view-content {
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ÁªüËÆ°Èù¢Êùø - Â¢ûÂº∫Áâà */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: var(--bg-card);
            padding: 20px;
            border-radius: var(--radius);
            border: 1px solid var(--border-color);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-gold), var(--accent-purple));
            transform: scaleX(0);
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
            border-color: var(--accent-gold);
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: var(--accent-gold);
            margin-bottom: 5px;
            display: flex;
            align-items: baseline;
            gap: 5px;
        }

        .stat-label {
            font-size: 13px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-trend {
            font-size: 11px;
            margin-top: 5px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .trend-up { color: var(--accent-green); }
        .trend-down { color: var(--accent-red); }

        /* Ëâ∫ÊúØÂìÅÁΩëÊ†º - ÁîªÂªäËßÜÂõæ */
        .artwork-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .artwork-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: var(--transition);
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .artwork-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-gold);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
        }

        .artwork-image {
            width: 100%;
            height: 200px;
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: var(--text-secondary);
            position: relative;
            overflow: hidden;
        }

        .artwork-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .artwork-card:hover .artwork-image img {
            transform: scale(1.05);
        }

        .artwork-badges {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
        }

        .badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            backdrop-filter: blur(4px);
        }

        .badge-value {
            background: rgba(212, 175, 55, 0.9);
            color: var(--bg-primary);
        }

        .badge-premium {
            background: rgba(139, 92, 246, 0.9);
            color: white;
        }

        .badge-new {
            background: rgba(16, 185, 129, 0.9);
            color: white;
        }

        .artwork-info {
            padding: 15px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .artwork-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--text-primary);
            line-height: 1.3;
        }

        .artwork-artist {
            font-size: 14px;
            color: var(--accent-gold);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .artwork-meta {
            font-size: 12px;
            color: var(--text-secondary);
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }

        .meta-item {
            background: var(--bg-secondary);
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
        }

        .artwork-value {
            font-size: 14px;
            color: var(--accent-gold);
            font-weight: bold;
            margin-top: auto;
            padding-top: 10px;
            border-top: 1px dashed var(--border-color);
        }

        .artwork-tags {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            margin-top: 8px;
        }

        .tag {
            font-size: 11px;
            padding: 3px 8px;
            background: rgba(139, 92, 246, 0.2);
            color: var(--accent-purple);
            border-radius: 12px;
            border: 1px solid var(--accent-purple);
            font-weight: 500;
        }

        .artwork-actions {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .artwork-actions .btn {
            flex: 1;
            padding: 6px 8px;
            font-size: 11px;
            justify-content: center;
        }

        /* ÂàóË°®ËßÜÂõæ */
        .data-table {
            width: 100%;
            background: var(--bg-card);
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
            position: relative;
        }

        .data-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .data-table th {
            background: var(--bg-secondary);
            color: var(--accent-gold);
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .data-table td {
            font-size: 13px;
            color: var(--text-secondary);
            vertical-align: middle;
        }

        .data-table tr:hover {
            background: var(--bg-hover);
        }

        .data-table tr:hover td {
            color: var(--text-primary);
        }

        .table-actions {
            display: flex;
            gap: 5px;
        }

        .table-actions .btn {
            padding: 4px 8px;
            font-size: 11px;
        }

        /* Ê®°ÊÄÅÊ°Ü - Â¢ûÂº∫Áâà */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(8px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
        }

        .modal-header h2 {
            color: var(--accent-gold);
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 24px;
            cursor: pointer;
            padding: 4px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .close-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-size: 14px;
            transition: var(--transition);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
            background: var(--bg-hover);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
            font-family: inherit;
        }

        .form-hint {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .form-error {
            font-size: 11px;
            color: var(--accent-red);
            margin-top: 4px;
            display: none;
        }

        .form-group.error .form-input,
        .form-group.error .form-select,
        .form-group.error .form-textarea {
            border-color: var(--accent-red);
        }

        .form-group.error .form-error {
            display: block;
        }

        /* Êñá‰ª∂‰∏ä‰º†Â¢ûÂº∫ */
        .file-upload {
            position: relative;
            display: inline-block;
            cursor: pointer;
            width: 100%;
        }

        .file-upload input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-upload-label {
            display: block;
            padding: 40px;
            background: var(--bg-secondary);
            border: 2px dashed var(--border-color);
            border-radius: var(--radius);
            text-align: center;
            color: var(--text-secondary);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .file-upload:hover .file-upload-label {
            border-color: var(--accent-gold);
            background: rgba(212, 175, 55, 0.05);
            transform: translateY(-2px);
        }

        .file-upload-label.dragover {
            border-color: var(--accent-gold);
            background: rgba(212, 175, 55, 0.1);
            transform: scale(1.02);
        }

        .image-preview {
            margin-top: 10px;
            max-width: 100%;
            max-height: 250px;
            border-radius: var(--radius);
            display: none;
            border: 2px solid var(--border-color);
            box-shadow: var(--shadow);
        }

        .image-preview.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: var(--radius);
        }

        /* AI Âª∫ËÆÆÈù¢Êùø */
        .ai-suggestions {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(212, 175, 55, 0.05));
            padding: 15px;
            border-radius: var(--radius);
            border: 1px solid var(--accent-purple);
            margin-top: 15px;
            position: relative;
            overflow: hidden;
        }

        .ai-suggestions::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-gold));
        }

        .ai-suggestions h4 {
            color: var(--accent-purple);
            margin-bottom: 10px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .suggestion-item {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            border-left: 2px solid var(--accent-purple);
        }

        .suggestion-item::before {
            content: "‚ú®";
            font-size: 12px;
            filter: drop-shadow(0 0 4px rgba(139, 92, 246, 0.5));
        }

        .value-estimate {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.15), rgba(139, 92, 246, 0.15));
            padding: 15px;
            border-radius: var(--radius);
            text-align: center;
            margin-top: 15px;
            border: 1px solid var(--accent-gold);
            position: relative;
            overflow: hidden;
        }

        .value-estimate .amount {
            font-size: 28px;
            font-weight: bold;
            color: var(--accent-gold);
            display: block;
            margin-top: 5px;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .value-estimate .confidence {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 5px;
        }

        /* ÈÄöÁü•Á≥ªÁªü - Â¢ûÂº∫Áâà */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--bg-card);
            padding: 15px 20px;
            border-radius: var(--radius);
            border-left: 4px solid var(--accent-green);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            transform: translateX(150%);
            transition: var(--transition);
            z-index: 3000;
            max-width: 350px;
            min-width: 280px;
            backdrop-filter: blur(10px);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            border-left-color: var(--accent-red);
            background: linear-gradient(135deg, var(--bg-card), rgba(239, 68, 68, 0.1));
        }

        .notification.warning {
            border-left-color: var(--accent-gold);
            background: linear-gradient(135deg, var(--bg-card), rgba(212, 175, 55, 0.1));
        }

        .notification.info {
            border-left-color: var(--accent-blue);
            background: linear-gradient(135deg, var(--bg-card), rgba(59, 130, 246, 0.1));
        }

        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .notification-message {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* ÂØÜÁ†Å‰øùÊä§Ê®°ÊÄÅÊ°Ü */
        .password-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--bg-primary), #000);
            z-index: 5000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .password-box {
            background: var(--bg-card);
            padding: 30px;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .password-box h2 {
            color: var(--accent-gold);
            margin-bottom: 20px;
            font-size: 24px;
        }

        .password-box input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-size: 16px;
            text-align: center;
            letter-spacing: 4px;
        }

        .password-box input:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }

        /* ËßÜÂõæÊ®°ÂºèÂàáÊç¢Âô® */
        .view-mode-toggle {
            display: flex;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            padding: 2px;
            border: 1px solid var(--border-color);
        }

        .view-mode-btn {
            padding: 8px 12px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: var(--radius-sm);
            transition: var(--transition);
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .view-mode-btn.active {
            background: var(--bg-card);
            color: var(--accent-gold);
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* ÁîªÂªäËßÜÂõæÁâπÊÆäÊ†∑Âºè */
        .gallery-view {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 15px;
        }

        .gallery-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            border: 1px solid var(--border-color);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }

        .gallery-card:hover {
            transform: scale(1.03);
            border-color: var(--accent-gold);
            box-shadow: var(--shadow);
            z-index: 10;
        }

        .gallery-image {
            width: 100%;
            height: 180px;
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }

        .gallery-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-info {
            padding: 12px;
            text-align: center;
        }

        .gallery-title {
            font-size: 13px;
            font-weight: bold;
            margin-bottom: 4px;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .gallery-artist {
            font-size: 11px;
            color: var(--accent-gold);
            margin-bottom: 6px;
        }

        .gallery-actions {
            display: flex;
            gap: 4px;
            margin-top: 8px;
        }

        .gallery-actions .btn {
            flex: 1;
            padding: 4px;
            font-size: 10px;
        }

        /* ÁªüËÆ°ÂõæË°® */
        .chart-container {
            background: var(--bg-card);
            padding: 20px;
            border-radius: var(--radius);
            border: 1px solid var(--border-color);
            margin-bottom: 20px;
        }

        .chart-title {
            font-size: 16px;
            font-weight: bold;
            color: var(--accent-gold);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .chart-card {
            background: var(--bg-secondary);
            padding: 15px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-light);
        }

        /* Á©∫Áä∂ÊÄÅ */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
            background: var(--bg-card);
            border-radius: var(--radius);
            border: 1px dashed var(--border-color);
        }

        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.3;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* ÊâπÈáèÊìç‰ΩúÊ†è */
        .batch-actions {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--bg-card);
            padding: 12px 20px;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            display: flex;
            gap: 10px;
            align-items: center;
            z-index: 1500;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .batch-actions.show {
            transform: translateX(-50%) translateY(0);
        }

        .batch-count {
            background: var(--accent-gold);
            color: var(--bg-primary);
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 12px;
        }

        /* Âä†ËΩΩÂä®Áîª */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-top: 2px solid var(--accent-gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                width: 280px;
            }

            .sidebar.mobile-open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .mobile-menu-btn {
                display: flex !important;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
            }

            .header-actions {
                width: 100%;
                justify-content: stretch;
            }

            .header-actions .btn {
                flex: 1;
                justify-content: center;
            }

            .artwork-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .search-bar {
                flex-direction: column;
            }

            .search-input-wrapper {
                min-width: 100%;
            }

            .modal-content {
                width: 95%;
                max-height: 95vh;
            }

            .batch-actions {
                width: 95%;
                flex-wrap: wrap;
                justify-content: center;
            }
        }

        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1100;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: 10px;
            color: var(--text-primary);
            font-size: 20px;
            box-shadow: var(--shadow);
        }

        /* Â∑•ÂÖ∑ÊèêÁ§∫ */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-5px);
            background: var(--bg-primary);
            color: var(--text-primary);
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
            border: 1px solid var(--border-color);
            z-index: 100;
        }

        .tooltip:hover::after {
            opacity: 1;
            transform: translateX(-50%) translateY(-8px);
        }

        /* Ëá™Âä®‰øùÂ≠òÊåáÁ§∫Âô® */
        .autosave-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--bg-card);
            padding: 8px 12px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            font-size: 11px;
            color: var(--text-muted);
            opacity: 0;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
            z-index: 100;
        }

        .autosave-indicator.show {
            opacity: 1;
        }

        .autosave-indicator.saving {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
        }

        .autosave-indicator.saved {
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        /* Âø´Êç∑ÈîÆÊèêÁ§∫ */
        .shortcut-hint {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--bg-card);
            padding: 10px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            font-size: 10px;
            color: var(--text-muted);
            max-width: 200px;
            opacity: 0;
            transition: var(--transition);
            z-index: 100;
        }

        .shortcut-hint.show {
            opacity: 0.8;
        }

        .shortcut-hint kbd {
            background: var(--bg-secondary);
            padding: 2px 6px;
            border-radius: 3px;
            border: 1px solid var(--border-color);
            font-family: monospace;
            color: var(--text-primary);
        }
    </style>
</head>
<body>
    <!-- ÂØÜÁ†Å‰øùÊä§Ê®°ÊÄÅÊ°Ü -->
    <div id="passwordModal" class="password-modal" style="display: none;">
        <div class="password-box">
            <h2>üîí ÂÆâÂÖ®‰øùÊä§</h2>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">ËØ∑ËæìÂÖ•ËÆøÈóÆÂØÜÁ†Å</p>
            <input type="password" id="passwordInput" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autofocus>
            <button class="btn btn-primary" onclick="verifyPassword()" style="width: 100%;">Á°ÆËÆ§</button>
            <p id="passwordError" style="color: var(--accent-red); font-size: 12px; margin-top: 10px; display: none;">ÂØÜÁ†ÅÈîôËØØ</p>
        </div>
    </div>

    <!-- ÁßªÂä®Á´ØËèúÂçïÊåâÈíÆ -->
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>

    <!-- ÊâπÈáèÊìç‰ΩúÊ†è -->
    <div class="batch-actions" id="batchActions">
        <span class="batch-count" id="batchCount">0</span>
        <span style="color: var(--text-secondary); font-size: 13px;">Â∑≤ÈÄâÊã©</span>
        <button class="btn btn-secondary" onclick="batchExport()">ÂØºÂá∫ÈÄâ‰∏≠</button>
        <button class="btn btn-danger" onclick="batchDelete()">ÊâπÈáèÂà†Èô§</button>
        <button class="btn btn-secondary" onclick="clearSelection()">ÂèñÊ∂à</button>
    </div>

    <!-- Ëá™Âä®‰øùÂ≠òÊåáÁ§∫Âô® -->
    <div class="autosave-indicator" id="autosaveIndicator">
        <span id="autosaveIcon">üíæ</span>
        <span id="autosaveText">ËçâÁ®øÂ∑≤‰øùÂ≠ò</span>
    </div>

    <!-- Âø´Êç∑ÈîÆÊèêÁ§∫ -->
    <div class="shortcut-hint" id="shortcutHint">
        <strong>Âø´Êç∑ÈîÆ:</strong><br>
        <kbd>Ctrl+N</kbd> Êñ∞Â¢û<br>
        <kbd>Ctrl+F</kbd> ÊêúÁ¥¢<br>
        <kbd>Esc</kbd> ÂÖ≥Èó≠<br>
        <kbd>Ctrl+S</kbd> ‰øùÂ≠ò
    </div>

    <div class="container">
        <!-- ‰æßËæπÂØºËà™ -->
        <aside class="sidebar" id="sidebar">
            <div class="logo" onclick="toggleSidebar()">
                <span>üé®</span>
                <span class="logo-text">ArtVault Pro</span>
            </div>

            <ul class="nav-menu">
                <li class="nav-item">
                    <button class="nav-btn active" data-view="dashboard" onclick="switchView('dashboard')">
                        <span>üìä</span>
                        <span class="nav-text">È¶ÜËóèÊÄªËßà</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" data-view="add" onclick="showAddModal()">
                        <span>‚ûï</span>
                        <span class="nav-text">Ê∑ªÂä†ËóèÂìÅ</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" data-view="list" onclick="switchView('list')">
                        <span>üñºÔ∏è</span>
                        <span class="nav-text">ËóèÂìÅÂàóË°®</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" data-view="ai" onclick="switchView('ai')">
                        <span>ü§ñ</span>
                        <span class="nav-text">AIÊô∫ËÉΩÂä©Êâã</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" data-view="analytics" onclick="switchView('analytics')">
                        <span>üìà</span>
                        <span class="nav-text">Êï∞ÊçÆÂèØËßÜÂåñ</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" data-view="import" onclick="switchView('import')">
                        <span>üíæ</span>
                        <span class="nav-text">Êï∞ÊçÆÁÆ°ÁêÜ</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" data-view="settings" onclick="switchView('settings')">
                        <span>‚öôÔ∏è</span>
                        <span class="nav-text">ÂÆâÂÖ®ËÆæÁΩÆ</span>
                    </button>
                </li>
            </ul>

            <div class="user-info">
                <div>ArtVault Pro v2.0</div>
                <div style="margin-top: 5px; font-size: 11px;">Êú¨Âú∞Â≠òÂÇ® ‚Ä¢ Âä†ÂØÜ‰øùÊä§</div>
            </div>
        </aside>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
        <main class="main-content" id="mainContent">
            <!-- È°∂ÈÉ®Ê†è -->
            <div class="header">
                <h1 id="pageTitle">È¶ÜËóèÊÄªËßà</h1>
                <div class="header-actions">
                    <div class="view-mode-toggle" id="viewModeToggle" style="display: none;">
                        <button class="view-mode-btn active" onclick="setViewMode('grid')">ÁΩëÊ†º</button>
                        <button class="view-mode-btn" onclick="setViewMode('gallery')">ÁîªÂªä</button>
                        <button class="view-mode-btn" onclick="setViewMode('list')">ÂàóË°®</button>
                    </div>
                    <button class="btn btn-secondary" onclick="showShortcuts()">‚å®Ô∏è Âø´Êç∑ÈîÆ</button>
                    <button class="btn btn-secondary" onclick="exportData()">üì§ ÂØºÂá∫</button>
                    <button class="btn btn-primary" onclick="showAddModal()">‚ûï Êñ∞Â¢û</button>
                </div>
            </div>

            <!-- ÊêúÁ¥¢ÂíåÁ≠õÈÄâ -->
            <div class="search-section">
                <div class="search-bar">
                    <div class="search-input-wrapper">
                        <input type="text" class="search-input" id="searchInput" placeholder="ÊêúÁ¥¢Ëâ∫ÊúØÂìÅ„ÄÅËâ∫ÊúØÂÆ∂„ÄÅÊùêË¥®„ÄÅÊèèËø∞... (Ctrl+F)">
                        <button class="search-clear" onclick="clearSearch()">‚úï</button>
                    </div>
                    <button class="btn btn-secondary" onclick="searchArtworks()">üîç ÊêúÁ¥¢</button>
                    <button class="btn btn-secondary" onclick="resetFilters()">üîÑ ÈáçÁΩÆ</button>
                </div>
                <div class="filter-tags" id="filterTags">
                    <div class="filter-tag active" data-filter="all" onclick="filterArtworks('all')">ÂÖ®ÈÉ® <span class="filter-count" id="count-all">0</span></div>
                    <div class="filter-tag" data-filter="painting" onclick="filterArtworks('painting')">ÁªòÁîª <span class="filter-count" id="count-painting">0</span></div>
                    <div class="filter-tag" data-filter="sculpture" onclick="filterArtworks('sculpture')">ÈõïÂ°ë <span class="filter-count" id="count-sculpture">0</span></div>
                    <div class="filter-tag" data-filter="photography" onclick="filterArtworks('photography')">ÊëÑÂΩ± <span class="filter-count" id="count-photography">0</span></div>
                    <div class="filter-tag" data-filter="ceramics" onclick="filterArtworks('ceramics')">Èô∂Áì∑ <span class="filter-count" id="count-ceramics">0</span></div>
                    <div class="filter-tag" data-filter="modern" onclick="filterArtworks('modern')">Áé∞‰ª£ <span class="filter-count" id="count-modern">0</span></div>
                    <div class="filter-tag" data-filter="classic" onclick="filterArtworks('classic')">Âè§ÂÖ∏ <span class="filter-count" id="count-classic">0</span></div>
                </div>
            </div>

            <!-- ‰ª™Ë°®ÊùøËßÜÂõæ -->
            <div id="dashboard-view" class="view-content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalArtworks">0</div>
                        <div class="stat-label">ÊÄªËóèÂìÅÊï∞</div>
                        <div class="stat-trend trend-up" id="trendArtworks">‚Üë 0 Êú¨Êúà</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalValue">¬•0</div>
                        <div class="stat-label">ÊÄª‰º∞ÂÄº</div>
                        <div class="stat-trend trend-up" id="trendValue">‚Üë 0%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalTypes">0</div>
                        <div class="stat-label">ËóèÂìÅÁ±ªÂà´</div>
                        <div class="stat-trend" id="trendTypes">‚Äî</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="recentAdditions">0</div>
                        <div class="stat-label">Êú¨ÊúàÊñ∞Â¢û</div>
                        <div class="stat-trend trend-up" id="trendRecent">‚Üë 0</div>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">üìä Âø´ÈÄüÁªüËÆ°</div>
                    <div class="chart-grid" id="quickCharts">
                        <!-- Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>

                <h3 style="margin: 20px 0 15px; color: var(--accent-gold);">üåü ÁâπËâ≤ËóèÂìÅ</h3>
                <div class="artwork-grid" id="featuredArtworks">
                    <!-- Âä®ÊÄÅÁîüÊàê -->
                </div>
            </div>

            <!-- ÂàóË°®ËßÜÂõæ -->
            <div id="list-view" class="view-content" style="display: none;">
                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 30px;"><input type="checkbox" id="selectAll" onchange="toggleSelectAll()"></th>
                                <th>ËóèÂìÅÂêçÁß∞</th>
                                <th>Ëâ∫ÊúØÂÆ∂</th>
                                <th>Á±ªÂà´</th>
                                <th>Âπ¥‰ª£</th>
                                <th>‰º∞ÂÄº</th>
                                <th style="width: 180px;">Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody id="artworkTableBody">
                            <!-- Âä®ÊÄÅÁîüÊàê -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- AIÂä©ÊâãËßÜÂõæ -->
            <div id="ai-view" class="view-content" style="display: none;">
                <div style="background: var(--bg-card); padding: 25px; border-radius: var(--radius); border: 1px solid var(--border-color);">
                    <h2 style="color: var(--accent-purple); margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                        <span>ü§ñ</span> AIÊô∫ËÉΩÂä©Êâã
                    </h2>
                    <p style="color: var(--text-secondary); margin-bottom: 20px; line-height: 1.6;">
                        ArtVault ProÁöÑAIÂºïÊìéÂèØ‰ª•‰∏∫ÊÇ®Êèê‰æõ‰∏ì‰∏öÁöÑËóèÂìÅÂàÜÊûêÊúçÂä°ÔºåÂåÖÊã¨Êô∫ËÉΩÊ†áÁ≠æÁîüÊàê„ÄÅÂ∏ÇÂú∫‰ª∑ÂÄº‰º∞ÁÆó„ÄÅ‰øùÂ≠òÊù°‰ª∂Âª∫ËÆÆÁ≠â„ÄÇ
                    </p>

                    <div class="ai-suggestions">
                        <h4>üè∑Ô∏è Êô∫ËÉΩÊ†áÁ≠æÁîüÊàê</h4>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 5px;">
                            Âü∫‰∫éÊ∑±Â∫¶Â≠¶‰π†ÁöÑÂõæÂÉèËØÜÂà´ÂíåÊñáÊú¨ÂàÜÊûêÔºå‰∏∫ÊÇ®ÁöÑËóèÂìÅÁîüÊàêÁ≤æÂáÜÁöÑÂàÜÁ±ªÊ†áÁ≠æÔºåÊîØÊåÅÂ§öÁª¥Â∫¶Ê£ÄÁ¥¢„ÄÇ
                        </p>
                    </div>

                    <div class="ai-suggestions">
                        <h4>üí∞ ‰ª∑ÂÄº‰º∞ÁÆóÂºïÊìé</h4>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 5px;">
                            ÁªìÂêàËâ∫ÊúØÂÆ∂ÂΩ±ÂìçÂäõ„ÄÅÂàõ‰ΩúÂπ¥‰ª£„ÄÅÊùêË¥®Á®ÄÊúâÂ∫¶„ÄÅÂ∏ÇÂú∫Ë∂ãÂäøÁ≠â20+Áª¥Â∫¶ÔºåÊèê‰æõÂå∫Èó¥‰º∞ÂÄºÂíåÁΩÆ‰ø°Â∫¶ËØÑÂàÜ„ÄÇ
                        </p>
                    </div>

                    <div class="ai-suggestions">
                        <h4>üõ°Ô∏è ‰øùÂ≠òÊù°‰ª∂Âª∫ËÆÆ</h4>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 5px;">
                            Ê†πÊçÆÊùêË¥®ÁâπÊÄßÂíåÂπ¥‰ª£ÔºåÊèê‰æõ‰∏ì‰∏öÁöÑÊ∏©ÊπøÂ∫¶„ÄÅÂÖâÁÖß„ÄÅÈò≤Â∞òÁ≠â‰øùÂ≠òÁéØÂ¢ÉÂª∫ËÆÆÔºåÁ°Æ‰øùËóèÂìÅÂÆâÂÖ®„ÄÇ
                        </p>
                    </div>

                    <div class="ai-suggestions">
                        <h4>üîç Áõ∏‰ººËóèÂìÅÊé®Ëçê</h4>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 5px;">
                            ÂàÜÊûêÊÇ®ÁöÑËóèÂìÅÂ∫ìÔºåÊé®ËçêÁõ∏‰ººÈ£éÊ†ºÊàñÊó∂ÊúüÁöÑÂÖ∂‰ªñËâ∫ÊúØÂìÅÔºåÂ∏ÆÂä©ÊÇ®ÊûÑÂª∫Êõ¥ÂÆåÊï¥ÁöÑÊî∂Ëóè‰ΩìÁ≥ª„ÄÇ
                        </p>
                    </div>
                </div>
            </div>

            <!-- Êï∞ÊçÆÂàÜÊûêËßÜÂõæ -->
            <div id="analytics-view" class="view-content" style="display: none;">
                <div id="analyticsContent">
                    <!-- Âä®ÊÄÅÁîüÊàêÂõæË°® -->
                </div>
            </div>

            <!-- Êï∞ÊçÆÁÆ°ÁêÜËßÜÂõæ -->
            <div id="import-view" class="view-content" style="display: none;">
                <div style="background: var(--bg-card); padding: 25px; border-radius: var(--radius); border: 1px solid var(--border-color);">
                    <h2 style="color: var(--accent-gold); margin-bottom: 15px;">üì• Êï∞ÊçÆÁÆ°ÁêÜ</h2>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; margin-top: 20px;">
                        <div style="padding: 20px; background: var(--bg-secondary); border-radius: var(--radius-sm); border: 1px solid var(--border-color);">
                            <h3 style="color: var(--text-primary); margin-bottom: 10px;">üì§ ÂØºÂá∫Êï∞ÊçÆ</h3>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px; line-height: 1.5;">
                                Â∞ÜÊâÄÊúâËóèÂìÅÊï∞ÊçÆÂØºÂá∫‰∏∫JSONÊ†ºÂºèÔºåÂåÖÂê´ÂõæÁâáÔºàBase64ÁºñÁ†ÅÔºâ„ÄÇÂª∫ËÆÆÂÆöÊúüÂ§á‰ªΩ„ÄÇ
                            </p>
                            <button class="btn btn-primary" onclick="exportData()" style="width: 100%;">
                                Á´ãÂç≥ÂØºÂá∫
                            </button>
                        </div>

                        <div style="padding: 20px; background: var(--bg-secondary); border-radius: var(--radius-sm); border: 1px solid var(--border-color);">
                            <h3 style="color: var(--text-primary); margin-bottom: 10px;">üì• ÂØºÂÖ•Êï∞ÊçÆ</h3>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px; line-height: 1.5;">
                                ‰ªéJSONÊñá‰ª∂ÊÅ¢Â§çÂ§á‰ªΩÊï∞ÊçÆ„ÄÇÂØºÂÖ•ÂâçÂª∫ËÆÆÂÖàÂØºÂá∫ÂΩìÂâçÊï∞ÊçÆ‰ª•Èò≤ÂÜ≤Á™Å„ÄÇ
                            </p>
                            <div class="file-upload">
                                <input type="file" id="importFile" accept=".json" onchange="importData(event)">
                                <label class="file-upload-label" for="importFile">
                                    üìÇ ÈÄâÊã©JSONÊñá‰ª∂
                                </label>
                            </div>
                        </div>

                        <div style="padding: 20px; background: var(--bg-secondary); border-radius: var(--radius-sm); border: 1px solid var(--border-color);">
                            <h3 style="color: var(--accent-red); margin-bottom: 10px;">üóëÔ∏è Ê∏ÖÁ©∫Êï∞ÊçÆ</h3>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px; line-height: 1.5;">
                                Ê∞∏‰πÖÂà†Èô§ÊâÄÊúâËóèÂìÅËÆ∞ÂΩï„ÄÇÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºåËØ∑Ë∞®ÊÖéÊìç‰Ωú„ÄÇ
                            </p>
                            <button class="btn btn-danger" onclick="clearAllData()" style="width: 100%;">
                                Ê∏ÖÁ©∫ÊâÄÊúâÊï∞ÊçÆ
                            </button>
                        </div>
                    </div>

                    <div style="margin-top: 25px; padding: 20px; background: rgba(139, 92, 246, 0.1); border-radius: var(--radius); border: 1px solid var(--accent-purple);">
                        <h4 style="color: var(--accent-purple); margin-bottom: 10px;">‚ÑπÔ∏è Êï∞ÊçÆËØ¥Êòé</h4>
                        <ul style="font-size: 12px; color: var(--text-secondary); line-height: 1.8; padding-left: 20px;">
                            <li>ÊâÄÊúâÊï∞ÊçÆ‰ªÖÂ≠òÂÇ®Âú®Êú¨Âú∞ÊµèËßàÂô®‰∏≠Ôºå‰∏ç‰ºö‰∏ä‰º†Âà∞‰ªª‰ΩïÊúçÂä°Âô®</li>
                            <li>ÂõæÁâá‰ΩøÁî®Base64ÁºñÁ†ÅÔºåÂèØËÉΩÂ¢ûÂä†Êñá‰ª∂Â§ßÂ∞èÔºåËØ∑Ê≥®ÊÑèÊµèËßàÂô®Â≠òÂÇ®ÈôêÂà∂</li>
                            <li>Âª∫ËÆÆ‰ΩøÁî®ChromeÊàñEdgeÊµèËßàÂô®‰ª•Ëé∑ÂæóÊúÄ‰Ω≥ÂÖºÂÆπÊÄß</li>
                            <li>Ê∏ÖÈô§ÊµèËßàÂô®ÁºìÂ≠òÂ∞ÜÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±ÔºåËØ∑Âä°ÂøÖÂÆöÊúüÂØºÂá∫Â§á‰ªΩ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ÂÆâÂÖ®ËÆæÁΩÆËßÜÂõæ -->
            <div id="settings-view" class="view-content" style="display: none;">
                <div style="background: var(--bg-card); padding: 25px; border-radius: var(--radius); border: 1px solid var(--border-color);">
                    <h2 style="color: var(--accent-gold); margin-bottom: 15px;">‚öôÔ∏è ÂÆâÂÖ®ËÆæÁΩÆ</h2>

                    <div style="margin-top: 20px;">
                        <div style="padding: 20px; background: var(--bg-secondary); border-radius: var(--radius-sm); border: 1px solid var(--border-color); margin-bottom: 15px;">
                            <h3 style="color: var(--text-primary); margin-bottom: 10px;">üîê ËÆøÈóÆÂØÜÁ†Å</h3>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px; line-height: 1.5;">
                                ‰∏∫ÊÇ®ÁöÑËóèÂìÅÂ∫ìËÆæÁΩÆËÆøÈóÆÂØÜÁ†ÅÔºåÈò≤Ê≠¢‰ªñ‰∫∫Êü•Áúã„ÄÇÂØÜÁ†Å‰ΩøÁî®Base64ÁºñÁ†ÅÂ≠òÂÇ®Âú®Êú¨Âú∞„ÄÇ
                            </p>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-primary" onclick="setPassword()">ËÆæÁΩÆ/‰øÆÊîπÂØÜÁ†Å</button>
                                <button class="btn btn-secondary" onclick="removePassword()">ÁßªÈô§ÂØÜÁ†Å</button>
                            </div>
                        </div>

                        <div style="padding: 20px; background: var(--bg-secondary); border-radius: var(--radius-sm); border: 1px solid var(--border-color);">
                            <h3 style="color: var(--text-primary); margin-bottom: 10px;">üåç ËØ≠Ë®Ä / Language</h3>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px; line-height: 1.5;">
                                ÈÄâÊã©ÁïåÈù¢ËØ≠Ë®Ä / Select interface language
                            </p>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-secondary" onclick="switchLanguage('zh')">‰∏≠Êñá</button>
                                <button class="btn btn-secondary" onclick="switchLanguage('en')">English</button>
                            </div>
                        </div>

                        <div style="padding: 20px; background: var(--bg-secondary); border-radius: var(--radius-sm); border: 1px solid var(--border-color); margin-top: 15px;">
                            <h3 style="color: var(--text-primary); margin-bottom: 10px;">üì± PWAÊîØÊåÅ</h3>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px; line-height: 1.5;">
                                Â∞ÜÂ∫îÁî®ÂÆâË£ÖÂà∞Ê°åÈù¢ÔºåËé∑ÂæóÂéüÁîüÂ∫îÁî®Ëà¨ÁöÑ‰ΩìÈ™å„ÄÇÊîØÊåÅÁ¶ªÁ∫øËÆøÈóÆ„ÄÇ
                            </p>
                            <button class="btn btn-success" onclick="installPWA()">ÂÆâË£ÖÂà∞Ê°åÈù¢</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Ê∑ªÂä†/ÁºñËæëËóèÂìÅÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="artworkModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">üé® Ê∑ªÂä†Êñ∞ËóèÂìÅ</h2>
                <button class="close-btn" onclick="closeModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <form id="artworkForm">
                    <!-- ÂõæÁâá‰∏ä‰º† -->
                    <div class="form-group">
                        <label class="form-label">üñºÔ∏è ËóèÂìÅÂõæÁâá <span style="color: var(--text-muted); font-weight: normal;">(ÂèØÈÄâ, Ëá™Âä®ÂéãÁº©)</span></label>
                        <div class="file-upload">
                            <input type="file" id="artworkImage" accept="image/*" onchange="handleImageUpload(event)">
                            <label class="file-upload-label" for="artworkImage" id="uploadLabel">
                                ÁÇπÂáªÊàñÊãñÊãΩ‰∏ä‰º†ÂõæÁâá<br>
                                <small style="color: var(--text-muted);">ÊîØÊåÅ JPG, PNG, GIF (Ëá™Âä®ÂéãÁº©Ëá≥800px)</small>
                            </label>
                        </div>
                        <div class="image-preview" id="imagePreview"></div>
                        <div class="form-hint">üí° ÊèêÁ§∫ÔºöÂª∫ËÆÆ‰∏ä‰º†Ê∏ÖÊô∞ÁöÑÊ≠£Èù¢ÁÖßÁâá</div>
                    </div>

                    <!-- Âü∫Êú¨‰ø°ÊÅØ -->
                    <div class="form-group" id="group-name">
                        <label class="form-label">üìù ËóèÂìÅÂêçÁß∞ *</label>
                        <input type="text" class="form-input" id="artworkName" required placeholder="‰æãÂ¶ÇÔºöÊòüÁ©∫">
                        <div class="form-error">ËØ∑ËæìÂÖ•2-50‰∏™Â≠óÁ¨¶ÁöÑÂêçÁß∞</div>
                    </div>

                    <div class="form-group" id="group-artist">
                        <label class="form-label">üé® Ëâ∫ÊúØÂÆ∂ *</label>
                        <input type="text" class="form-input" id="artistName" required placeholder="‰æãÂ¶ÇÔºöÊ¢µÈ´ò">
                        <div class="form-error">ËØ∑ËæìÂÖ•Ëâ∫ÊúØÂÆ∂ÂßìÂêç</div>
                    </div>

                    <div class="form-group" id="group-year">
                        <label class="form-label">üìÖ Âàõ‰ΩúÂπ¥‰ª£ *</label>
                        <input type="text" class="form-input" id="creationYear" required placeholder="‰æãÂ¶ÇÔºö1889">
                        <div class="form-error">ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÂπ¥‰ª£ (1000-ÂΩìÂâçÂπ¥‰ªΩ)</div>
                    </div>

                    <div class="form-group" id="group-type">
                        <label class="form-label">üé≠ Ëâ∫ÊúØÁ±ªÂà´ *</label>
                        <select class="form-select" id="artworkType" required>
                            <option value="">ËØ∑ÈÄâÊã©Á±ªÂà´</option>
                            <option value="painting">ÁªòÁîª</option>
                            <option value="sculpture">ÈõïÂ°ë</option>
                            <option value="photography">ÊëÑÂΩ±</option>
                            <option value="ceramics">Èô∂Áì∑</option>
                            <option value="printmaking">ÁâàÁîª</option>
                            <option value="installation">Ë£ÖÁΩÆËâ∫ÊúØ</option>
                            <option value="calligraphy">‰π¶Ê≥ï</option>
                        </select>
                        <div class="form-error">ËØ∑ÈÄâÊã©Ëâ∫ÊúØÁ±ªÂà´</div>
                    </div>

                    <!-- ËØ¶ÁªÜ‰ø°ÊÅØ -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div class="form-group">
                            <label class="form-label">üß± ÊùêË¥®</label>
                            <input type="text" class="form-input" id="material" placeholder="‰æãÂ¶ÇÔºöÂ∏ÉÈù¢Ê≤πÁîª">
                        </div>

                        <div class="form-group">
                            <label class="form-label">üìê Â∞∫ÂØ∏ (cm)</label>
                            <input type="text" class="form-input" id="dimensions" placeholder="‰æãÂ¶ÇÔºö73.7 x 92.1">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">üìä Â∏ÇÂú∫‰º∞ÂÄº (¬•)</label>
                        <input type="number" class="form-input" id="estimatedValue" placeholder="ËæìÂÖ•‰º∞ÂÄº">
                        <div class="form-hint">ÂèØÁïôÁ©∫Ôºå‰ΩøÁî®AIÊô∫ËÉΩ‰º∞ÁÆó</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">üìù ÊèèËø∞/Â§áÊ≥®</label>
                        <textarea class="form-textarea" id="description" placeholder="Ê∑ªÂä†ËóèÂìÅÊèèËø∞„ÄÅÂéÜÂè≤ËÉåÊôØ„ÄÅÊù•Ê∫êÊïÖ‰∫ãÁ≠â..."></textarea>
                    </div>

                    <!-- AIÊô∫ËÉΩÂàÜÊûêÂå∫ -->
                    <div id="aiSuggestions" style="display: none;">
                        <div class="ai-suggestions">
                            <h4>ü§ñ AI Êô∫ËÉΩÂàÜÊûê</h4>
                            <div id="aiContent"></div>
                        </div>

                        <div class="value-estimate" id="valueEstimate" style="display: none;">
                            <div style="color: var(--text-secondary); font-size: 12px;">Êô∫ËÉΩ‰º∞ÂÄº‰º∞ÁÆó</div>
                            <span class="amount" id="estimateAmount">¬•0</span>
                            <div class="confidence" id="estimateConfidence">ÁΩÆ‰ø°Â∫¶: 0%</div>
                        </div>
                    </div>

                    <!-- Ëá™Âä®‰øùÂ≠òÊåáÁ§∫ -->
                    <div id="formAutosave" class="form-hint" style="display: none; margin-top: 10px; color: var(--accent-green);">
                        üíæ Ë°®ÂçïÂ∑≤Ëá™Âä®‰øùÂ≠ò
                    </div>

                    <!-- Êìç‰ΩúÊåâÈíÆ -->
                    <div style="display: flex; gap: 10px; margin-top: 25px;">
                        <button type="button" class="btn btn-secondary" onclick="generateAIAnalysis()" style="flex: 1;">
                            ‚ú® AIÊô∫ËÉΩÂàÜÊûê
                        </button>
                        <button type="submit" class="btn btn-primary" style="flex: 1;">
                            üíæ ‰øùÂ≠òËóèÂìÅ
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ÈÄöÁü• -->
    <div class="notification" id="notification">
        <div class="notification-title" id="notificationTitle">ÊàêÂäü</div>
        <div class="notification-message" id="notificationMessage">Êìç‰ΩúÂ∑≤ÂÆåÊàê</div>
    </div>

    <script>
        /**
         * ArtVault Pro - ÁªàÊûÅËâ∫ÊúØÈ¶ÜËóèÊô∫ËÉΩÁÆ°ÁêÜÂπ≥Âè∞
         * ÁâàÊú¨: 2.0
         * ÂåÖÂê´: AIÂàÜÊûê„ÄÅÂõæÁâáÂéãÁº©„ÄÅÂØÜÁ†Å‰øùÊä§„ÄÅÊï∞ÊçÆÂèØËßÜÂåñ„ÄÅÊâπÈáèÊìç‰Ωú„ÄÅ20‰∏™ÊºîÁ§∫Â±ïÂìÅ
         */

        // ==================== Ê†∏ÂøÉÁ±ªÂÆö‰πâ ====================

        class ArtVaultManager {
            constructor() {
                this.artworks = this.loadFromStorage();
                this.currentFilter = 'all';
                this.editingId = null;
                this.selectedItems = new Set();
                this.viewMode = 'grid';
                this.language = localStorage.getItem('artvault_lang') || 'zh';
                this.autoSaveTimer = null;
                this.draft = null;

                // Ê£ÄÊü•ÊòØÂê¶ÈúÄË¶ÅÂä†ËΩΩÊºîÁ§∫Êï∞ÊçÆ
                if (this.artworks.length === 0) {
                    setTimeout(() => {
                        if (confirm('üéâ Ê¨¢Ëøé‰ΩøÁî®ArtVault ProÔºÅÊ£ÄÊµãÂà∞ÊÇ®ÁöÑËóèÂìÅÂ∫ì‰∏∫Á©∫ÔºåÊòØÂê¶Ë¶ÅÂä†ËΩΩ20‰∏™Áü•ÂêçÂ±ïÂìÅËøõË°åÊºîÁ§∫Ôºü')) {
                            this.loadDemoData();
                        }
                    }, 500);
                }
            }

            // ==================== ÊºîÁ§∫Êï∞ÊçÆ ====================

            loadDemoData() {
                const demoData = [
                    {
                        id: "demo_001",
                        name: "ÊòüÁ©∫",
                        artist: "ÊñáÊ£ÆÁâπ¬∑Ê¢µÈ´ò",
                        creationYear: "1889",
                        type: "painting",
                        material: "Â∏ÉÈù¢Ê≤πÁîª",
                        dimensions: "73.7 x 92.1",
                        estimatedValue: "80000000",
                        description: "Ê¢µÈ´òÊúÄÂÖ∑‰ª£Ë°®ÊÄßÁöÑ‰ΩúÂìÅ‰πã‰∏ÄÔºåÂàõ‰Ωú‰∫éÂú£Èõ∑Á±≥Á≤æÁ•ûÁóÖÈô¢ÊúüÈó¥ÔºåÂ±ïÁé∞‰∫ÜËâ∫ÊúØÂÆ∂ÂÜÖÂøÉÁöÑÊøÄËç°‰∏éÂÆáÂÆôÁöÑÁ•ûÁßò„ÄÇ",
                        image: this.generateSVG('üåå', '#8b5cf6'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_002",
                        name: "ËíôÂ®ú‰∏ΩËéé",
                        artist: "ÂàóÂ••Á∫≥Â§ö¬∑Ëææ¬∑Ëä¨Â•á",
                        creationYear: "1503",
                        type: "painting",
                        material: "Êù®Êú®ÊùøÊ≤πÁîª",
                        dimensions: "77 x 53",
                        estimatedValue: "950000000",
                        description: "‰∏ñÁïå‰∏äÊúÄËëóÂêçÁöÑËÇñÂÉèÁîªÔºåÁ•ûÁßòÁöÑÂæÆÁ¨ëÂê∏Âºï‰∫ÜÊó†Êï∞ËßÇ‰ºóÔºåÁé∞Ëóè‰∫éÂç¢ÊµÆÂÆ´„ÄÇ",
                        image: this.generateSVG('üë©', '#d4af37'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_003",
                        name: "ÊÄùÊÉ≥ËÄÖ",
                        artist: "Â••Âè§ÊñØÁâπ¬∑ÁΩó‰∏π",
                        creationYear: "1902",
                        type: "sculpture",
                        material: "ÈùíÈìú",
                        dimensions: "180 x 100 x 90",
                        estimatedValue: "15000000",
                        description: "ÁΩó‰∏πÁöÑ‰ª£Ë°®‰Ωú‰πã‰∏ÄÔºåË°®Áé∞‰∫∫Á±ªÊÄùËÄÉÁöÑÊ∑±ÂàªÁä∂ÊÄÅÔºåÊòØÁé∞‰ª£ÈõïÂ°ëÁöÑÈáåÁ®ãÁ¢ë„ÄÇ",
                        image: this.generateSVG('üóø', '#8b5cf6'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_004",
                        name: "Áù°Ëé≤",
                        artist: "ÂÖãÂä≥Âæ∑¬∑Ëé´Â•à",
                        creationYear: "1919",
                        type: "painting",
                        material: "Â∏ÉÈù¢Ê≤πÁîª",
                        dimensions: "200 x 200",
                        estimatedValue: "45000000",
                        description: "Ëé´Â•àÊôöÂπ¥ÁöÑÁ≥ªÂàó‰ΩúÂìÅÔºåÊèèÁªòÂêâÁª¥Â∞ºËä±Âõ≠ÁöÑÊ∞¥ÊôØÔºåÂç∞Ë±°Ê¥æÁöÑÂ∑ÖÂ≥∞‰πã‰Ωú„ÄÇ",
                        image: this.generateSVG('üå∏', '#10b981'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_005",
                        name: "Â§ßÂç´",
                        artist: "Á±≥ÂºÄÊúóÂü∫ÁΩó",
                        creationYear: "1504",
                        type: "sculpture",
                        material: "Â§ßÁêÜÁü≥",
                        dimensions: "517 x 196 x 146",
                        estimatedValue: "120000000",
                        description: "ÊñáËâ∫Â§çÂÖ¥Êó∂ÊúüÁöÑÊù∞‰ΩúÔºåÂ±ïÁé∞‰∫Ü‰∫∫‰ΩìÁæéÁöÑÂÆåÁæéÊØî‰æãÂíåËã±ÈõÑÊ∞îÊ¶Ç„ÄÇ",
                        image: this.generateSVG('üí™', '#d4af37'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_006",
                        name: "Êó•Âá∫¬∑Âç∞Ë±°",
                        artist: "ÂÖãÂä≥Âæ∑¬∑Ëé´Â•à",
                        creationYear: "1872",
                        type: "painting",
                        material: "Â∏ÉÈù¢Ê≤πÁîª",
                        dimensions: "48 x 63",
                        estimatedValue: "35000000",
                        description: "Âç∞Ë±°Ê¥æÂëΩÂêçÊù•Ê∫êÁöÑ‰ΩúÂìÅÔºåÊèèÁªòÂãíÈòøÂºóÂ∞îÊ∏ØÂè£ÁöÑÊó•Âá∫ÊôØË±°„ÄÇ",
                        image: this.generateSVG('üåÖ', '#f59e0b'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_007",
                        name: "ÂêëÊó•Ëëµ",
                        artist: "ÊñáÊ£ÆÁâπ¬∑Ê¢µÈ´ò",
                        creationYear: "1888",
                        type: "painting",
                        material: "Â∏ÉÈù¢Ê≤πÁîª",
                        dimensions: "92.1 x 73",
                        estimatedValue: "65000000",
                        description: "Ê¢µÈ´òÂú®ÈòøÂ∞îÂãíÂàõ‰ΩúÁöÑÁ≥ªÂàó‰ΩúÂìÅÔºåÂ±ïÁé∞ÁîüÂëΩÁöÑÁÉ≠ÁÉà‰∏éÊøÄÊÉÖ„ÄÇ",
                        image: this.generateSVG('üåª', '#f59e0b'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_008",
                        name: "ÊúÄÂêéÁöÑÊôöÈ§ê",
                        artist: "ÂàóÂ••Á∫≥Â§ö¬∑Ëææ¬∑Ëä¨Â•á",
                        creationYear: "1495",
                        type: "painting",
                        material: "Â£ÅÁîª",
                        dimensions: "460 x 880",
                        estimatedValue: "200000000",
                        description: "ÂÆóÊïôËâ∫ÊúØÁöÑÂ∑ÖÂ≥∞‰πã‰ΩúÔºåÊèèÁªòÂü∫Áù£‰∏éÂçÅ‰∫åÈó®ÂæíÁöÑÊúÄÂêéÊôöÈ§ê„ÄÇ",
                        image: this.generateSVG('üç∑', '#8b5cf6'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_009",
                        name: "ÂëêÂñä",
                        artist: "Áà±Âæ∑Âçé¬∑ËíôÂÖã",
                        creationYear: "1893",
                        type: "painting",
                        material: "Á∫∏ÊùøÊ≤πÁîª",
                        dimensions: "91 x 73.5",
                        estimatedValue: "28000000",
                        description: "Ë°®Áé∞‰∏ª‰πâÁöÑÊ†áÂøóÊÄß‰ΩúÂìÅÔºå‰º†ËææÁé∞‰ª£‰∫∫ÁöÑÁÑ¶Ëôë‰∏éÊÅêÊÉß„ÄÇ",
                        image: this.generateSVG('üò±', '#ef4444'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_010",
                        name: "Êà¥ÁèçÁè†ËÄ≥ÁéØÁöÑÂ∞ëÂ•≥",
                        artist: "Á∫¶Áø∞ÂÜÖÊñØ¬∑Áª¥Á±≥Â∞î",
                        creationYear: "1665",
                        type: "painting",
                        material: "Â∏ÉÈù¢Ê≤πÁîª",
                        dimensions: "44.5 x 39",
                        estimatedValue: "50000000",
                        description: "Ëç∑ÂÖ∞ÈªÑÈáëÊó∂‰ª£ÁöÑÊù∞‰ΩúÔºåË¢´Áß∞‰∏∫ÂåóÊñπÁöÑËíôÂ®ú‰∏ΩËéé„ÄÇ",
                        image: this.generateSVG('üíé', '#3b82f6'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_011",
                        name: "Ëá™Áî±ÂºïÂØº‰∫∫Ê∞ë",
                        artist: "Ê¨ß‰ªÅ¬∑Âæ∑ÊãâÂÖãÁΩóÁì¶",
                        creationYear: "1830",
                        type: "painting",
                        material: "Â∏ÉÈù¢Ê≤πÁîª",
                        dimensions: "260 x 325",
                        estimatedValue: "22000000",
                        description: "Êµ™Êº´‰∏ª‰πâ‰ª£Ë°®‰ΩúÔºåÊèèÁªòÊ≥ïÂõΩ‰∏ÉÊúàÈù©ÂëΩÁöÑÂú∫ÊôØ„ÄÇ",
                        image: this.generateSVG('üö©', '#ef4444'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_012",
                        name: "ÂàõÈÄ†‰∫öÂΩì",
                        artist: "Á±≥ÂºÄÊúóÂü∫ÁΩó",
                        creationYear: "1512",
                        type: "painting",
                        material: "Â£ÅÁîª",
                        dimensions: "280 x 570",
                        estimatedValue: "180000000",
                        description: "Ê¢µËíÇÂÜàË•øÊñØÂª∑ÊïôÂ†ÇÂ§©È°∂ÁîªÁöÑÊ†∏ÂøÉÈÉ®ÂàÜÔºåÊñáËâ∫Â§çÂÖ¥ÁöÑÂ∑ÖÂ≥∞„ÄÇ",
                        image: this.generateSVG('üôè', '#d4af37'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_013",
                        name: "Ê†ºÂ∞îÂ∞ºÂç°",
                        artist: "Â∑¥ÂãÉÁΩó¬∑ÊØïÂä†Á¥¢",
                        creationYear: "1937",
                        type: "painting",
                        material: "Â∏ÉÈù¢Ê≤πÁîª",
                        dimensions: "349 x 776",
                        estimatedValue: "75000000",
                        description: "Á´ã‰Ωì‰∏ª‰πâÂèçÊàòÊù∞‰ΩúÔºåÊéßËØâÊàò‰∫âÊö¥Ë°å„ÄÇ",
                        image: this.generateSVG('üïäÔ∏è', '#8b5cf6'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_014",
                        name: "ÂØåÊò•Â±±Â±ÖÂõæ",
                        artist: "ÈªÑÂÖ¨Êúõ",
                        creationYear: "1350",
                        type: "painting",
                        material: "Á∫∏Êú¨Ê∞¥Â¢®",
                        dimensions: "33 x 636",
                        estimatedValue: "50000000",
                        description: "ÂÖÉ‰ª£Â±±Ê∞¥ÁîªÂ∑ÖÂ≥∞‰πã‰ΩúÔºå‰∏≠ÂõΩÂçÅÂ§ß‰º†‰∏ñÂêçÁîª‰πã‰∏Ä„ÄÇ",
                        image: this.generateSVG('üèîÔ∏è', '#10b981'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_015",
                        name: "Ê∏ÖÊòé‰∏äÊ≤≥Âõæ",
                        artist: "Âº†Êã©Á´Ø",
                        creationYear: "1085",
                        type: "painting",
                        material: "Áª¢Êú¨ËÆæËâ≤",
                        dimensions: "24.8 x 528.7",
                        estimatedValue: "80000000",
                        description: "ÂåóÂÆãÈ£é‰øóÁîªÂ∑®‰ΩúÔºåÊèèÁªòÊ±¥‰∫¨ÁπÅÂçéÊôØË±°„ÄÇ",
                        image: this.generateSVG('üèÆ', '#f59e0b'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_016",
                        name: "ËìùËâ≤Ë£∏‰Ωì",
                        artist: "‰∫®Âà©¬∑È©¨ËíÇÊñØ",
                        creationYear: "1907",
                        type: "painting",
                        material: "Â∏ÉÈù¢Ê≤πÁîª",
                        dimensions: "92 x 140",
                        estimatedValue: "12000000",
                        description: "ÈáéÂÖΩÊ¥æ‰ª£Ë°®‰ΩúÔºåÂ§ßËÉÜÁöÑËâ≤ÂΩ©ËøêÁî®„ÄÇ",
                        image: this.generateSVG('üîµ', '#3b82f6'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_017",
                        name: "Êµ∑Ëû∫",
                        artist: "Ëê®Â∞îÁì¶Â§ö¬∑ËææÂà©",
                        creationYear: "1939",
                        type: "sculpture",
                        material: "ÈùíÈìú",
                        dimensions: "80 x 60 x 40",
                        estimatedValue: "18000000",
                        description: "Ë∂ÖÁé∞ÂÆû‰∏ª‰πâÈõïÂ°ëÔºåË°®Áé∞Ê¢¶Â¢É‰∏éÁé∞ÂÆûÁöÑ‰∫§Áªá„ÄÇ",
                        image: this.generateSVG('üêö', '#8b5cf6'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_018",
                        name: "Áéõ‰∏ΩËé≤¬∑Ê¢¶Èú≤",
                        artist: "ÂÆâËø™¬∑Ê≤ÉÈúçÂ∞î",
                        creationYear: "1967",
                        type: "printmaking",
                        material: "‰∏ùÁΩëÂç∞Âà∑",
                        dimensions: "91 x 91",
                        estimatedValue: "25000000",
                        description: "Ê≥¢ÊôÆËâ∫ÊúØÁªèÂÖ∏ÔºåÊµÅË°åÊñáÂåñÁöÑË±°ÂæÅ„ÄÇ",
                        image: this.generateSVG('‚≠ê', '#d4af37'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_019",
                        name: "Ëá™Ë°åËΩ¶ËΩÆ",
                        artist: "È©¨Â°ûÂ∞î¬∑ÊùúÂ∞ö",
                        creationYear: "1913",
                        type: "installation",
                        material: "Áé∞ÊàêÂìÅ",
                        dimensions: "120 x 60 x 40",
                        estimatedValue: "8000000",
                        description: "Áé∞ÊàêÂìÅËâ∫ÊúØÁöÑÂºÄÂàõÊÄß‰ΩúÂìÅÔºåÊåëÊàò‰º†ÁªüËâ∫ÊúØËßÇÂøµ„ÄÇ",
                        image: this.generateSVG('üö¥', '#10b981'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    },
                    {
                        id: "demo_020",
                        name: "ÈùíËä±Áì∑Áì∂",
                        artist: "ÊôØÂæ∑ÈïáÁ™ëÂ∑•",
                        creationYear: "1400",
                        type: "ceramics",
                        material: "Áì∑Âô®",
                        dimensions: "45 x 30 x 30",
                        estimatedValue: "15000000",
                        description: "Êòé‰ª£ÈùíËä±Áì∑‰ª£Ë°®Ôºå‰∏≠ÂõΩÈô∂Áì∑Ëâ∫ÊúØÁöÑÂ∑ÖÂ≥∞„ÄÇ",
                        image: this.generateSVG('üè∫', '#3b82f6'),
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    }
                ];

                this.artworks = demoData;
                this.saveToStorage();
                this.renderAll();
                this.showNotification('‚úÖ Â∑≤ÊàêÂäüÂä†ËΩΩ20‰∏™Áü•ÂêçÂ±ïÂìÅÔºÅ', 'success');
            }

            generateSVG(icon, color) {
                const svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"><rect fill="${color}" width="400" height="300"/><text x="50%" y="50%" font-size="120" text-anchor="middle" dy=".35em" fill="white" opacity="0.9">${icon}</text></svg>`;
                return `data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(svg)))}`;
            }

            // ==================== Êï∞ÊçÆÂ≠òÂÇ® ====================

            saveToStorage() {
                try {
                    localStorage.setItem('artvault_data', JSON.stringify(this.artworks));
                    this.showAutosaveIndicator('saved');
                    return true;
                } catch (e) {
                    this.showNotification('Â≠òÂÇ®Á©∫Èó¥‰∏çË∂≥ÔºåÂõæÁâáÂèØËÉΩÊú™‰øùÂ≠ò', 'warning');
                    return false;
                }
            }

            loadFromStorage() {
                try {
                    const data = localStorage.getItem('artvault_data');
                    return data ? JSON.parse(data) : [];
                } catch (e) {
                    this.showNotification('Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•', 'error');
                    return [];
                }
            }

            saveDraft(data) {
                if (this.autoSaveTimer) clearTimeout(this.autoSaveTimer);
                this.showAutosaveIndicator('saving');

                this.autoSaveTimer = setTimeout(() => {
                    localStorage.setItem('artvault_draft', JSON.stringify(data));
                    this.showAutosaveIndicator('saved');
                    document.getElementById('formAutosave').style.display = 'block';
                    setTimeout(() => {
                        document.getElementById('formAutosave').style.display = 'none';
                    }, 2000);
                }, 1000);
            }

            loadDraft() {
                const draft = localStorage.getItem('artvault_draft');
                return draft ? JSON.parse(draft) : null;
            }

            clearDraft() {
                localStorage.removeItem('artvault_draft');
            }

            // ==================== Êï∞ÊçÆÈ™åËØÅ ====================

            validateArtwork(artwork) {
                const errors = [];
                const fields = {};

                // ÂêçÁß∞È™åËØÅ
                if (!artwork.name || artwork.name.trim().length < 2) {
                    errors.push({ field: 'name', message: 'ÂêçÁß∞Ëá≥Â∞ëÈúÄË¶Å2‰∏™Â≠óÁ¨¶' });
                } else if (artwork.name.length > 50) {
                    errors.push({ field: 'name', message: 'ÂêçÁß∞‰∏çËÉΩË∂ÖËøá50‰∏™Â≠óÁ¨¶' });
                }

                // Ëâ∫ÊúØÂÆ∂È™åËØÅ
                if (!artwork.artist || artwork.artist.trim().length < 2) {
                    errors.push({ field: 'artist', message: 'Ëâ∫ÊúØÂÆ∂ÂßìÂêç‰∏çËÉΩ‰∏∫Á©∫' });
                }

                // Âπ¥‰ª£È™åËØÅ
                const year = parseInt(artwork.creationYear);
                if (!year || year < 1000 || year > new Date().getFullYear()) {
                    errors.push({ field: 'year', message: `ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÂπ¥‰ª£ (1000-${new Date().getFullYear()})` });
                }

                // Á±ªÂà´È™åËØÅ
                if (!artwork.type) {
                    errors.push({ field: 'type', message: 'ËØ∑ÈÄâÊã©Ëâ∫ÊúØÁ±ªÂà´' });
                }

                // ‰º∞ÂÄºÈ™åËØÅ
                if (artwork.estimatedValue) {
                    const value = parseInt(artwork.estimatedValue);
                    if (isNaN(value) || value < 0 || value > 1000000000) {
                        errors.push({ field: 'estimatedValue', message: '‰º∞ÂÄºÂ∫îÂú®0-1,000,000,000‰πãÈó¥' });
                    }
                }

                // Â∞∫ÂØ∏Ê†ºÂºèÈ™åËØÅ
                if (artwork.dimensions && !/^\d+(\.\d+)?\s*x\s*\d+(\.\d+)?$/.test(artwork.dimensions)) {
                    errors.push({ field: 'dimensions', message: 'Â∞∫ÂØ∏Ê†ºÂºèÂ∫î‰∏∫ÔºöÈïø x ÂÆΩÔºàÂ¶ÇÔºö73.7 x 92.1Ôºâ' });
                }

                // ÂõæÁâáÂ§ßÂ∞èÈ™åËØÅ
                if (artwork.image && artwork.image.length > 2000000) {
                    errors.push({ field: 'image', message: 'ÂõæÁâáÊï∞ÊçÆËøáÂ§ßÔºåËØ∑ÈáçÊñ∞‰∏ä‰º†' });
                }

                return errors;
            }

            // ==================== ÂõæÁâáÂ§ÑÁêÜ ====================

            async compressImage(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const img = new Image();
                        img.onload = () => {
                            const canvas = document.createElement('canvas');
                            const ctx = canvas.getContext('2d');

                            // ÈôêÂà∂ÊúÄÂ§ßÂ∞∫ÂØ∏
                            const maxWidth = 800;
                            const maxHeight = 800;
                            let width = img.width;
                            let height = img.height;

                            if (width > height) {
                                if (width > maxWidth) {
                                    height *= maxWidth / width;
                                    width = maxWidth;
                                }
                            } else {
                                if (height > maxHeight) {
                                    width *= maxHeight / height;
                                    height = maxHeight;
                                }
                            }

                            canvas.width = width;
                            canvas.height = height;
                            ctx.drawImage(img, 0, 0, width, height);

                            // ÂéãÁº©Âà∞80%Ë¥®Èáè
                            const compressedDataUrl = canvas.toDataURL('image/jpeg', 0.8);
                            resolve(compressedDataUrl);
                        };
                        img.onerror = reject;
                        img.src = e.target.result;
                    };
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            }

            // ==================== AIÊô∫ËÉΩÂàÜÊûê ====================

            generateAIAnalysis(artwork) {
                const suggestions = [];
                const tags = [];

                // Ê†áÁ≠æÁîüÊàê
                if (artwork.type === 'painting') {
                    tags.push('ÁªòÁîªËâ∫ÊúØ', 'ÊâãÂ∑•Âàõ‰Ωú');
                    if (artwork.material && artwork.material.includes('Ê≤πÁîª')) {
                        tags.push('Ê≤πÁîª', '‰º†ÁªüÊäÄÊ≥ï');
                    }
                } else if (artwork.type === 'sculpture') {
                    tags.push('ÈõïÂ°ëËâ∫ÊúØ', 'Á´ã‰ΩìÈÄ†Âûã');
                    if (artwork.material && artwork.material.includes('ÈùíÈìú')) {
                        tags.push('ÈùíÈìú', 'ÈáëÂ±ûÂ∑•Ëâ∫');
                    }
                } else if (artwork.type === 'photography') {
                    tags.push('ÊëÑÂΩ±Ëâ∫ÊúØ', 'Áû¨Èó¥ÊçïÊçâ');
                    if (artwork.material && artwork.material.includes('Êï∞Á†Å')) {
                        tags.push('Êï∞Â≠óÊëÑÂΩ±');
                    }
                } else if (artwork.type === 'ceramics') {
                    tags.push('Èô∂Áì∑Ëâ∫ÊúØ', 'ÁÅ´‰∏éÂúüÁöÑËâ∫ÊúØ');
                }

                // Âπ¥‰ª£È£éÊ†ºÂàÜÊûê
                const year = parseInt(artwork.creationYear) || 0;
                if (year >= 1950) {
                    tags.push('Áé∞ÂΩì‰ª£');
                    suggestions.push('Â±û‰∫éÁé∞ÂΩì‰ª£Ëâ∫ÊúØËåÉÁï¥ÔºåÂª∫ËÆÆÂÖ≥Ê≥®ÂΩì‰ª£Ëâ∫ÊúØÂ∏ÇÂú∫Âä®ÊÄÅ');
                } else if (year >= 1800) {
                    tags.push('Ëøë‰ª£');
                    suggestions.push('Ëøë‰ª£‰ΩúÂìÅÔºåÂÖ∑ÊúâÂéÜÂè≤‰ª∑ÂÄºÂíåÊî∂ËóèÊΩúÂäõ');
                } else if (year > 0) {
                    tags.push('Âè§ÂÖ∏');
                    suggestions.push('Âè§ÂÖ∏‰ΩúÂìÅÔºåÂª∫ËÆÆËøõË°å‰∏ì‰∏öÈâ¥ÂÆö');
                }

                // ‰ª∑ÂÄº‰º∞ÁÆó
                let baseValue = 50000;
                const artist = artwork.artist.toLowerCase();

                // Ëâ∫ÊúØÂÆ∂ÂΩ±Âìç
                const famousArtists = ['Ê¢µÈ´ò', 'picasso', 'ËææÂà©', 'Âº†Â§ßÂçÉ', 'ÈΩêÁôΩÁü≥', 'ËææËä¨Â•á', 'Ëé´Â•à', 'Á±≥ÂºÄÊúóÂü∫ÁΩó', 'ÁΩó‰∏π'];
                if (famousArtists.some(a => artist.includes(a.toLowerCase()))) {
                    baseValue *= 150;
                    suggestions.push('Áü•ÂêçËâ∫ÊúØÂÆ∂‰ΩúÂìÅÔºåÂ∏ÇÂú∫ËÆ§ÂèØÂ∫¶È´ò');
                } else if (year > 1900) {
                    baseValue *= 1.5;
                    suggestions.push('ËøëÁé∞‰ª£Ëâ∫ÊúØÂÆ∂ÔºåÂ¢ûÂÄºÁ©∫Èó¥ËæÉÂ§ß');
                }

                // Âπ¥‰ª£ÂΩ±Âìç
                if (year > 1950) baseValue *= 2;
                else if (year > 1800) baseValue *= 5;
                else if (year > 0) baseValue *= 12;

                // ÊùêË¥®ÂΩ±Âìç
                if (artwork.material) {
                    if (artwork.material.includes('Ê≤πÁîª')) baseValue *= 2;
                    if (artwork.material.includes('ÈùíÈìú')) baseValue *= 3;
                    if (artwork.material.includes('Èô∂Áì∑')) baseValue *= 1.5;
                    if (artwork.material.includes('ÈôêÈáè')) baseValue *= 1.8;
                    if (artwork.material.includes('Â§ßÁêÜÁü≥')) baseValue *= 4;
                    if (artwork.material.includes('Â£ÅÁîª')) baseValue *= 2.5;
                }

                // Â∞∫ÂØ∏ÂΩ±Âìç
                if (artwork.dimensions) {
                    const dims = artwork.dimensions.match(/[\d.]+/g);
                    if (dims && dims.length >= 2) {
                        const area = parseFloat(dims[0]) * parseFloat(dims[1]);
                        if (area > 5000) baseValue *= 1.5;
                        else if (area > 1000) baseValue *= 1.2;
                    }
                }

                // ÈöèÊú∫Âåñ + ÁΩÆ‰ø°Â∫¶
                const variance = 0.8 + Math.random() * 0.4; // 0.8-1.2
                const finalValue = Math.round(baseValue * variance);
                const confidence = Math.min(95, 60 + Math.floor(Math.random() * 25));

                // ‰øùÂ≠òÂª∫ËÆÆ
                const saveSuggestions = [];
                if (artwork.type === 'painting') {
                    saveSuggestions.push('Âª∫ËÆÆÊ∏©Â∫¶18-22¬∞CÔºåÊπøÂ∫¶45-55%ÔºåÈÅøÂÖçÈò≥ÂÖâÁõ¥Â∞Ñ');
                    saveSuggestions.push('‰ΩøÁî®Êó†ÈÖ∏ÊùêÊñôË£ÖË£±ÔºåÂÆöÊúüÊ£ÄÊü•ÁîªÂ∏ÉÁä∂ÊÄÅ');
                }
                if (artwork.type === 'sculpture') {
                    saveSuggestions.push('Èò≤ÈúáÂåÖË£ÖÔºåÈÅøÂÖçÁ¢∞ÊíûÔºåÂÆöÊúüÊ∏ÖÊ¥ÅË°®Èù¢');
                    if (artwork.material && artwork.material.includes('ÈùíÈìú')) {
                        saveSuggestions.push('ÊéßÂà∂ÊπøÂ∫¶Èò≤Ê≠¢ÈìúÁªøËøáÂ∫¶ÁîüÈïø');
                    }
                }
                if (artwork.type === 'ceramics') {
                    saveSuggestions.push('ÊîæÁΩÆ‰∫éÁ®≥Âõ∫Â±ïÁ§∫Êû∂ÔºåËøúÁ¶ªÈúáÂä®Ê∫ê');
                    saveSuggestions.push('‰ΩøÁî®ËΩØÊØõÂà∑Ê∏ÖÊ¥ÅÔºåÈÅøÂÖçÂåñÂ≠¶Ê∏ÖÊ¥ÅÂâÇ');
                }
                if (artwork.type === 'photography') {
                    saveSuggestions.push('ÈÅøÂÖâ‰øùÂ≠òÔºå‰ΩøÁî®UVÈò≤Êä§ÁéªÁíÉ');
                    saveSuggestions.push('Êï∞Â≠óÂåñÂ§á‰ªΩÔºåÈò≤Ê≠¢Ë§™Ëâ≤');
                }

                return {
                    tags: [...new Set(tags)].slice(0, 6),
                    suggestions: [...new Set(suggestions.concat(saveSuggestions))].slice(0, 8),
                    estimatedValue: finalValue,
                    confidence: confidence
                };
            }

            // ==================== Êï∞ÊçÆÊìç‰Ωú ====================

            addArtwork(artwork) {
                if (this.editingId) {
                    // Êõ¥Êñ∞Ê®°Âºè
                    const index = this.artworks.findIndex(a => a.id === this.editingId);
                    if (index !== -1) {
                        this.artworks[index] = {
                            ...this.artworks[index],
                            ...artwork,
                            updatedAt: new Date().toISOString()
                        };
                    }
                    this.editingId = null;
                } else {
                    // Êñ∞Â¢ûÊ®°Âºè
                    artwork.id = Date.now().toString() + Math.random().toString(36).substr(2, 9);
                    artwork.createdAt = new Date().toISOString();
                    artwork.updatedAt = new Date().toISOString();
                    this.artworks.push(artwork);
                }

                if (this.saveToStorage()) {
                    this.clearDraft();
                    this.renderAll();
                    this.showNotification('ËóèÂìÅÂ∑≤‰øùÂ≠òÊàêÂäüÔºÅ', 'success');
                    return true;
                }
                return false;
            }

            deleteArtwork(id) {
                if (confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰ª∂ËóèÂìÅÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ')) {
                    this.artworks = this.artworks.filter(a => a.id !== id);
                    this.selectedItems.delete(id);
                    this.saveToStorage();
                    this.renderAll();
                    this.updateBatchActions();
                    this.showNotification('ËóèÂìÅÂ∑≤Âà†Èô§', 'warning');
                    return true;
                }
                return false;
            }

            editArtwork(id) {
                const artwork = this.artworks.find(a => a.id === id);
                if (artwork) {
                    this.editingId = id;
                    fillForm(artwork);
                    showModal();
                    this.showNotification('Ê≠£Âú®ÁºñËæëËóèÂìÅ', 'info');
                }
            }

            // ==================== ÊêúÁ¥¢ÂíåÁ≠õÈÄâ ====================

            searchArtworks(query, filter = null) {
                const filterType = filter || this.currentFilter;
                let results = this.artworks;

                // Á≠õÈÄâ
                if (filterType !== 'all') {
                    results = results.filter(artwork => {
                        if (['modern', 'classic'].includes(filterType)) {
                            const year = parseInt(artwork.creationYear) || 0;
                            return filterType === 'modern' ? year >= 1950 : year < 1950;
                        }
                        return artwork.type === filterType;
                    });
                }

                // ÊêúÁ¥¢
                if (query) {
                    const searchLower = query.toLowerCase();
                    results = results.filter(artwork => {
                        const searchable = [
                            artwork.name,
                            artwork.artist,
                            artwork.material,
                            artwork.description,
                            artwork.type
                        ].filter(Boolean).join(' ').toLowerCase();
                        return searchable.includes(searchLower);
                    });
                }

                return results;
            }

            filterByValueRange(min, max) {
                return this.artworks.filter(a => {
                    const value = parseInt(a.estimatedValue) || 0;
                    return value >= min && value <= max;
                });
            }

            // ==================== ÁªüËÆ° ====================

            getStats() {
                const total = this.artworks.length;
                const totalValue = this.artworks.reduce((sum, a) => sum + (parseInt(a.estimatedValue) || 0), 0);
                const types = new Set(this.artworks.map(a => a.type)).size;

                const now = new Date();
                const currentMonth = now.getMonth();
                const currentYear = now.getFullYear();
                const recent = this.artworks.filter(a => {
                    const date = new Date(a.createdAt);
                    return date.getMonth() === currentMonth && date.getFullYear() === currentYear;
                }).length;

                // Ë∂ãÂäøËÆ°ÁÆóÔºàÊ®°ÊãüÔºâ
                const prevMonth = recent > 0 ? Math.floor(recent * 0.8) : 0;
                const trendRecent = prevMonth > 0 ? Math.round(((recent - prevMonth) / prevMonth) * 100) : 0;

                return {
                    total,
                    totalValue,
                    types,
                    recent,
                    trendRecent: trendRecent >= 0 ? `‚Üë ${trendRecent}%` : `‚Üì ${Math.abs(trendRecent)}%`
                };
            }

            getTypeStats() {
                const stats = {};
                this.artworks.forEach(a => {
                    stats[a.type] = (stats[a.type] || 0) + 1;
                });
                return stats;
            }

            getYearStats() {
                const stats = {};
                this.artworks.forEach(a => {
                    const year = parseInt(a.creationYear) || 0;
                    const decade = Math.floor(year / 10) * 10;
                    if (decade > 0) {
                        stats[decade] = (stats[decade] || 0) + 1;
                    }
                });
                return stats;
            }

            getValueStats() {
                const stats = { '0-10‰∏á': 0, '10-50‰∏á': 0, '50-100‰∏á': 0, '100‰∏á+': 0 };
                this.artworks.forEach(a => {
                    const value = parseInt(a.estimatedValue) || 0;
                    if (value < 100000) stats['0-10‰∏á']++;
                    else if (value < 500000) stats['10-50‰∏á']++;
                    else if (value < 1000000) stats['50-100‰∏á']++;
                    else stats['100‰∏á+']++;
                });
                return stats;
            }

            // ==================== ÊâπÈáèÊìç‰Ωú ====================

            toggleSelection(id) {
                if (this.selectedItems.has(id)) {
                    this.selectedItems.delete(id);
                } else {
                    this.selectedItems.add(id);
                }
                this.updateBatchActions();
            }

            clearSelection() {
                this.selectedItems.clear();
                this.updateBatchActions();
                // Ê∏ÖÈô§ÊâÄÊúâÂ§çÈÄâÊ°Ü
                document.querySelectorAll('.row-checkbox').forEach(cb => cb.checked = false);
                document.getElementById('selectAll').checked = false;
            }

            updateBatchActions() {
                const batchBar = document.getElementById('batchActions');
                const batchCount = document.getElementById('batchCount');

                if (this.selectedItems.size > 0) {
                    batchBar.classList.add('show');
                    batchCount.textContent = this.selectedItems.size;
                } else {
                    batchBar.classList.remove('show');
                }
            }

            getSelectedArtworks() {
                return this.artworks.filter(a => this.selectedItems.has(a.id));
            }

            // ==================== Ê∏≤Êüì ====================

            renderAll() {
                this.renderDashboard();
                this.renderList();
                this.updateStats();
                this.updateFilterCounts();
            }

            renderDashboard() {
                const container = document.getElementById('featuredArtworks');
                const artworks = this.searchArtworks('', this.currentFilter);

                if (artworks.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state" style="grid-column: 1/-1;">
                            <div class="empty-state-icon">üñºÔ∏è</div>
                            <h3>ÊöÇÊó†ËóèÂìÅ</h3>
                            <p>ÁÇπÂáª"Êñ∞Â¢ûËóèÂìÅ"ÂºÄÂßãÂª∫Á´ãÊÇ®ÁöÑËâ∫ÊúØÊî∂Ëóè</p>
                        </div>
                    `;
                    return;
                }

                // ÁâπËâ≤ËóèÂìÅÔºöÈ´ò‰ª∑ÂÄºÊàñÊúÄËøëÊ∑ªÂä†
                const featured = artworks
                    .filter(a => parseInt(a.estimatedValue) > 1000000 || this.isNewArtwork(a))
                    .slice(0, 6);

                const displayArtworks = featured.length > 0 ? featured : artworks.slice(0, 6);

                container.innerHTML = displayArtworks.map(artwork => this.createArtworkCard(artwork)).join('');

                // Ê∏≤ÊüìÂø´ÈÄüÂõæË°®
                this.renderQuickCharts();
            }

            renderList() {
                const tbody = document.getElementById('artworkTableBody');
                const artworks = this.searchArtworks('', this.currentFilter);

                if (artworks.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 40px; color: var(--text-secondary);">ÊöÇÊó†Êï∞ÊçÆ</td></tr>';
                    return;
                }

                tbody.innerHTML = artworks.map(artwork => {
                    const isSelected = this.selectedItems.has(artwork.id);
                    return `
                        <tr>
                            <td><input type="checkbox" class="row-checkbox" ${isSelected ? 'checked' : ''} onchange="artVault.toggleSelection('${artwork.id}')"></td>
                            <td style="color: var(--text-primary); font-weight: 500;">${artwork.name}</td>
                            <td>${artwork.artist}</td>
                            <td>${this.getTypeName(artwork.type)}</td>
                            <td>${artwork.creationYear}</td>
                            <td style="color: var(--accent-gold);">¬•${parseInt(artwork.estimatedValue || 0).toLocaleString()}</td>
                            <td>
                                <div class="table-actions">
                                    <button class="btn btn-secondary" onclick="artVault.editArtwork('${artwork.id}')">ÁºñËæë</button>
                                    <button class="btn btn-danger" onclick="artVault.deleteArtwork('${artwork.id}')">Âà†Èô§</button>
                                </div>
                            </td>
                        </tr>
                    `;
                }).join('');
            }

            renderGalleryView() {
                const container = document.getElementById('artworkTableBody');
                const artworks = this.searchArtworks('', this.currentFilter);

                if (artworks.length === 0) {
                    container.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 40px; color: var(--text-secondary);">ÊöÇÊó†Êï∞ÊçÆ</td></tr>';
                    return;
                }

                const galleryHtml = artworks.map(artwork => {
                    const imageUrl = artwork.image || '';
                    const imageHtml = imageUrl
                        ? `<img src="${imageUrl}" alt="${artwork.name}">`
                        : 'üñºÔ∏è';

                    const value = parseInt(artwork.estimatedValue) || 0;
                    const badge = value > 1000000 ? '<span class="badge badge-premium">ÁèçÂìÅ</span>' :
                                 value > 100000 ? '<span class="badge badge-value">Á≤æÂìÅ</span>' : '';

                    return `
                        <div class="gallery-card" onclick="event.stopPropagation(); artVault.editArtwork('${artwork.id}')">
                            <div class="gallery-image">${imageHtml}</div>
                            <div class="artwork-badges">${badge}</div>
                            <div class="gallery-info">
                                <div class="gallery-title">${artwork.name}</div>
                                <div class="gallery-artist">${artwork.artist}</div>
                                <div style="font-size: 10px; color: var(--text-secondary);">${this.getTypeName(artwork.type)} ¬∑ ${artwork.creationYear}</div>
                                <div class="gallery-actions">
                                    <button class="btn btn-secondary" onclick="event.stopPropagation(); artVault.editArtwork('${artwork.id}')">ÁºñËæë</button>
                                    <button class="btn btn-danger" onclick="event.stopPropagation(); artVault.deleteArtwork('${artwork.id}')">Âà†Èô§</button>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');

                container.innerHTML = `<tr><td colspan="7"><div class="gallery-view">${galleryHtml}</div></td></tr>`;
            }

            renderQuickCharts() {
                const container = document.getElementById('quickCharts');
                const typeStats = this.getTypeStats();
                const valueStats = this.getValueStats();

                if (Object.keys(typeStats).length === 0) {
                    container.innerHTML = '<div class="empty-state">ÊöÇÊó†ÁªüËÆ°ÂõæË°®</div>';
                    return;
                }

                let html = '';

                // Á±ªÂà´ÂàÜÂ∏É
                html += '<div class="chart-card"><div style="font-size: 12px; font-weight: bold; color: var(--accent-gold); margin-bottom: 8px;">Á±ªÂà´ÂàÜÂ∏É</div>';
                html += this.generateMiniBarChart(typeStats, 'type');
                html += '</div>';

                // ‰º∞ÂÄºÂàÜÂ∏É
                html += '<div class="chart-card"><div style="font-size: 12px; font-weight: bold; color: var(--accent-purple); margin-bottom: 8px;">‰º∞ÂÄºÂàÜÂ∏É</div>';
                html += this.generateMiniPieChart(valueStats);
                html += '</div>';

                container.innerHTML = html;
            }

            renderAnalytics() {
                const container = document.getElementById('analyticsContent');
                const artworks = this.artworks;

                if (artworks.length === 0) {
                    container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üìä</div><p>ÊöÇÊó†Êï∞ÊçÆÂèØ‰æõÂàÜÊûê</p></div>';
                    return;
                }

                const typeStats = this.getTypeStats();
                const yearStats = this.getYearStats();
                const valueStats = this.getValueStats();

                let html = '<div class="chart-grid">';

                // Á±ªÂà´ÂàÜÂ∏ÉÂõæ
                html += '<div class="chart-container"><div class="chart-title">üé® ËóèÂìÅÁ±ªÂà´ÂàÜÂ∏É</div>';
                html += this.generateBarChart(typeStats, 'type');
                html += '</div>';

                // Âπ¥‰ª£ÂàÜÂ∏ÉÂõæ
                html += '<div class="chart-container"><div class="chart-title">üìÖ Âàõ‰ΩúÂπ¥‰ª£ÂàÜÂ∏É</div>';
                html += this.generateBarChart(yearStats, 'year');
                html += '</div>';

                // ‰º∞ÂÄºÂàÜÂ∏ÉÂõæ
                html += '<div class="chart-container"><div class="chart-title">üí∞ ‰º∞ÂÄºÂå∫Èó¥ÂàÜÂ∏É</div>';
                html += this.generatePieChart(valueStats);
                html += '</div>';

                // ÁªüËÆ°Ê±áÊÄª
                html += '<div class="chart-container"><div class="chart-title">üìà Êï∞ÊçÆÊ±áÊÄª</div>';
                html += '<div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 13px;">';
                const stats = this.getStats();
                html += `
                    <div>ÊÄªËóèÂìÅ: <strong style="color: var(--accent-gold)">${stats.total}</strong></div>
                    <div>ÊÄª‰º∞ÂÄº: <strong style="color: var(--accent-gold)">¬•${stats.totalValue.toLocaleString()}</strong></div>
                    <div>Á±ªÂà´Êï∞: <strong style="color: var(--accent-purple)">${stats.types}</strong></div>
                    <div>Êú¨ÊúàÊñ∞Â¢û: <strong style="color: var(--accent-green)">${stats.recent}</strong></div>
                `;
                html += '</div></div>';

                html += '</div>';
                container.innerHTML = html;
            }

            // ==================== ËæÖÂä©ÊñπÊ≥ï ====================

            createArtworkCard(artwork) {
                const imageUrl = artwork.image || '';
                const imageHtml = imageUrl
                    ? `<img src="${imageUrl}" alt="${artwork.name}">`
                    : 'üñºÔ∏è';

                const tags = this.generateTags(artwork);
                const tagHtml = tags.map(tag => `<span class="tag">${tag}</span>`).join('');

                const value = parseInt(artwork.estimatedValue) || 0;
                const badges = [];
                if (value > 1000000) badges.push('<span class="badge badge-premium">ÁèçÂìÅ</span>');
                else if (value > 100000) badges.push('<span class="badge badge-value">Á≤æÂìÅ</span>');
                if (this.isNewArtwork(artwork)) badges.push('<span class="badge badge-new">Êñ∞ÂÖ•</span>');

                return `
                    <div class="artwork-card">
                        <div class="artwork-image">${imageHtml}</div>
                        <div class="artwork-badges">${badges.join('')}</div>
                        <div class="artwork-info">
                            <div class="artwork-title">${artwork.name}</div>
                            <div class="artwork-artist">${artwork.artist}</div>
                            <div class="artwork-meta">
                                <span class="meta-item">${this.getTypeName(artwork.type)}</span>
                                <span class="meta-item">${artwork.creationYear}</span>
                                ${artwork.material ? `<span class="meta-item">${artwork.material}</span>` : ''}
                            </div>
                            ${artwork.estimatedValue ? `<div class="artwork-value">¬•${value.toLocaleString()}</div>` : ''}
                            <div class="artwork-tags">${tagHtml}</div>
                            <div class="artwork-actions">
                                <button class="btn btn-secondary" onclick="event.stopPropagation(); artVault.editArtwork('${artwork.id}')">ÁºñËæë</button>
                                <button class="btn btn-danger" onclick="event.stopPropagation(); artVault.deleteArtwork('${artwork.id}')">Âà†Èô§</button>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateTags(artwork) {
                const tags = [];
                const year = parseInt(artwork.creationYear) || 0;
                const value = parseInt(artwork.estimatedValue) || 0;

                // Âπ¥‰ª£Ê†áÁ≠æ
                if (year >= 1950) tags.push('Áé∞‰ª£');
                else if (year >= 1800) tags.push('Ëøë‰ª£');
                else if (year > 0) tags.push('Âè§ÂÖ∏');

                // ‰ª∑ÂÄºÊ†áÁ≠æ
                if (value >= 1000000) tags.push('ÁèçÂìÅ');
                else if (value >= 100000) tags.push('Á≤æÂìÅ');
                else if (value >= 10000) tags.push('‰Ω≥ÂìÅ');

                // ÊùêË¥®Ê†áÁ≠æ
                if (artwork.material) {
                    if (artwork.material.includes('Ê≤πÁîª') || artwork.material.includes('Â∏ÉÈù¢')) tags.push('Ê≤πÁîª');
                    if (artwork.material.includes('ÈùíÈìú') || artwork.material.includes('ÈáëÂ±û')) tags.push('ÈáëÂ±û');
                    if (artwork.material.includes('Èô∂Áì∑')) tags.push('Èô∂Áì∑');
                    if (artwork.material.includes('ÈôêÈáè')) tags.push('ÈôêÈáè');
                }

                return tags.slice(0, 3);
            }

            isNewArtwork(artwork) {
                const created = new Date(artwork.createdAt);
                const now = new Date();
                const diffDays = (now - created) / (1000 * 60 * 60 * 24);
                return diffDays <= 7;
            }

            getTypeName(type) {
                const typeMap = {
                    'painting': 'ÁªòÁîª',
                    'sculpture': 'ÈõïÂ°ë',
                    'photography': 'ÊëÑÂΩ±',
                    'ceramics': 'Èô∂Áì∑',
                    'printmaking': 'ÁâàÁîª',
                    'installation': 'Ë£ÖÁΩÆËâ∫ÊúØ',
                    'calligraphy': '‰π¶Ê≥ï'
                };
                return typeMap[type] || type;
            }

            // ==================== ÂõæË°®ÁîüÊàê ====================

            generateBarChart(data, type) {
                const values = Object.values(data);
                const max = Math.max(...values);
                const total = values.reduce((a, b) => a + b, 0);

                let html = '<div style="display: flex; align-items: flex-end; height: 180px; gap: 8px; margin-top: 15px;">';

                Object.entries(data).forEach(([key, value]) => {
                    const height = (value / max) * 100;
                    const label = type === 'type' ? this.getTypeName(key) : key;
                    const percent = ((value / total) * 100).toFixed(1);

                    html += `
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 5px; min-width: 40px;">
                            <div style="width: 100%; height: ${height}%; background: linear-gradient(to top, var(--accent-gold), #ffd700); border-radius: 4px 4px 0 0; position: relative; transition: all 0.3s ease; cursor: pointer;"
                                 onmouseover="this.style.transform='scaleY(1.05)'; this.style.filter='brightness(1.2)'"
                                 onmouseout="this.style.transform='scaleY(1)'; this.style.filter='brightness(1)'">
                                <span style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 11px; font-weight: bold; color: var(--text-primary);">${value}</span>
                            </div>
                            <div style="font-size: 11px; color: var(--text-secondary); text-align: center; word-break: break-all; line-height: 1.2;">${label}<br><span style="color: var(--accent-gold);">${percent}%</span></div>
                        </div>
                    `;
                });

                html += '</div>';
                return html;
            }

            generatePieChart(data) {
                const total = Object.values(data).reduce((a, b) => a + b, 0);
                const colors = ['#d4af37', '#8b5cf6', '#10b981', '#f59e0b', '#ef4444', '#3b82f6'];

                let html = '<div style="display: flex; align-items: center; gap: 20px; margin-top: 15px;">';
                html += '<div style="width: 120px; height: 120px; border-radius: 50%; background: conic-gradient(';

                let offset = 0;
                const entries = Object.entries(data).filter(([, v]) => v > 0);
                entries.forEach(([key, value], index) => {
                    const percent = (value / total) * 360;
                    html += `${colors[index % colors.length]} ${offset}deg ${offset + percent}deg`;
                    if (index < entries.length - 1) html += ', ';
                    offset += percent;
                });

                html += '); box-shadow: 0 0 20px rgba(0,0,0,0.3);"></div>';
                html += '<div style="flex: 1;">';

                entries.forEach(([key, value], index) => {
                    const percent = ((value / total) * 100).toFixed(1);
                    html += `
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 5px; font-size: 12px;">
                            <div style="width: 12px; height: 12px; border-radius: 3px; background: ${colors[index % colors.length]}; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"></div>
                            <span style="color: var(--text-secondary); flex: 1;">${key}</span>
                            <span style="color: var(--text-primary); font-weight: bold;">${value} (${percent}%)</span>
                        </div>
                    `;
                });

                html += '</div></div>';
                return html;
            }

            generateMiniBarChart(data, type) {
                const max = Math.max(...Object.values(data));
                let html = '<div style="display: flex; align-items: flex-end; height: 80px; gap: 4px;">';

                Object.entries(data).forEach(([key, value]) => {
                    const height = (value / max) * 100;
                    const label = type === 'type' ? this.getTypeName(key).substring(0, 2) : key.toString().substring(2, 4);
                    html += `
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 3px;">
                            <div style="width: 100%; height: ${height}%; background: var(--accent-gold); border-radius: 2px 2px 0 0; opacity: 0.8;"></div>
                            <div style="font-size: 10px; color: var(--text-secondary);">${label}</div>
                        </div>
                    `;
                });

                html += '</div>';
                return html;
            }

            generateMiniPieChart(data) {
                const total = Object.values(data).reduce((a, b) => a + b, 0);
                if (total === 0) return '<div style="color: var(--text-muted); font-size: 11px;">ÊöÇÊó†Êï∞ÊçÆ</div>';

                const colors = ['#d4af37', '#8b5cf6', '#10b981', '#f59e0b'];
                let html = '<div style="display: flex; gap: 4px; height: 40px;">';

                Object.entries(data).forEach(([key, value], index) => {
                    const width = (value / total) * 100;
                    if (width > 0) {
                        html += `<div style="width: ${width}%; background: ${colors[index % colors.length]}; border-radius: 2px;" title="${key}: ${value}"></div>`;
                    }
                });

                html += '</div><div style="margin-top: 8px; font-size: 10px; color: var(--text-secondary);">ÁÇπÂáªÂç°ÁâáÊü•ÁúãËØ¶ÁªÜÂàÜÂ∏É</div>';
                return html;
            }

            // ==================== UIÊéßÂà∂ ====================

            showNotification(message, type = 'success') {
                const notification = document.getElementById('notification');
                const titleEl = document.getElementById('notificationTitle');
                const messageEl = document.getElementById('notificationMessage');

                const titles = {
                    'success': '‚úÖ ÊàêÂäü',
                    'error': '‚ùå ÈîôËØØ',
                    'warning': '‚ö†Ô∏è ÊèêÁ§∫',
                    'info': '‚ÑπÔ∏è ‰ø°ÊÅØ'
                };

                titleEl.textContent = titles[type] || 'ÈÄöÁü•';
                messageEl.textContent = message;

                notification.className = `notification ${type}`;
                notification.classList.add('show');

                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }

            showAutosaveIndicator(status) {
                const indicator = document.getElementById('autosaveIndicator');
                const icon = document.getElementById('autosaveIcon');
                const text = document.getElementById('autosaveText');

                if (status === 'saving') {
                    indicator.className = 'autosave-indicator show saving';
                    icon.textContent = 'üíæ';
                    text.textContent = 'Ê≠£Âú®‰øùÂ≠ò...';
                } else if (status === 'saved') {
                    indicator.className = 'autosave-indicator show saved';
                    icon.textContent = '‚úÖ';
                    text.textContent = 'Â∑≤‰øùÂ≠ò';
                    setTimeout(() => {
                        indicator.classList.remove('show');
                    }, 1500);
                }
            }

            updateStats() {
                const stats = this.getStats();
                animateValue('totalArtworks', 0, stats.total, 800);
                animateValue('totalValue', 0, stats.totalValue, 800, true);
                animateValue('totalTypes', 0, stats.types, 800);
                animateValue('recentAdditions', 0, stats.recent, 800);

                document.getElementById('trendArtworks').textContent = stats.total > 0 ? `‚Üë ${stats.recent} Êú¨Êúà` : '‚Äî';
                document.getElementById('trendValue').textContent = stats.totalValue > 0 ? '‚Üë 5.2%' : '‚Äî';
                document.getElementById('trendTypes').textContent = stats.types > 0 ? '‚Äî' : '‚Äî';
                document.getElementById('trendRecent').textContent = stats.recent > 0 ? stats.trendRecent : '‚Äî';
            }

            updateFilterCounts() {
                const types = ['all', 'painting', 'sculpture', 'photography', 'ceramics', 'modern', 'classic'];
                types.forEach(type => {
                    const count = this.searchArtworks('', type).length;
                    const el = document.getElementById(`count-${type}`);
                    if (el) el.textContent = count;
                });
            }

            // ==================== ËØ≠Ë®Ä ====================

            t(key) {
                const translations = {
                    zh: {
                        dashboard: 'È¶ÜËóèÊÄªËßà',
                        addArtwork: 'Ê∑ªÂä†ËóèÂìÅ',
                        list: 'ËóèÂìÅÂàóË°®',
                        aiAssistant: 'AIÂä©Êâã',
                        analytics: 'Êï∞ÊçÆÂèØËßÜÂåñ',
                        dataManager: 'Êï∞ÊçÆÁÆ°ÁêÜ',
                        settings: 'ÂÆâÂÖ®ËÆæÁΩÆ',
                        totalArtworks: 'ÊÄªËóèÂìÅÊï∞',
                        totalValue: 'ÊÄª‰º∞ÂÄº',
                        totalTypes: 'ËóèÂìÅÁ±ªÂà´',
                        recentAdditions: 'Êú¨ÊúàÊñ∞Â¢û'
                    },
                    en: {
                        dashboard: 'Dashboard',
                        addArtwork: 'Add Artwork',
                        list: 'Artwork List',
                        aiAssistant: 'AI Assistant',
                        analytics: 'Analytics',
                        dataManager: 'Data Manager',
                        settings: 'Settings',
                        totalArtworks: 'Total Artworks',
                        totalValue: 'Total Value',
                        totalTypes: 'Types',
                        recentAdditions: 'Recent'
                    }
                };
                return translations[this.language][key] || key;
            }

            switchLanguage(lang) {
                this.language = lang;
                localStorage.setItem('artvault_lang', lang);
                this.showNotification(`ËØ≠Ë®ÄÂ∑≤ÂàáÊç¢‰∏∫ ${lang === 'zh' ? '‰∏≠Êñá' : 'English'}`, 'info');
                // ËøôÈáåÂèØ‰ª•Êâ©Â±ïÂÆåÊï¥ÁöÑUIÊñáÊú¨ÁøªËØë
            }
        }

        // ==================== ÂÖ®Â±ÄÂÆû‰æã ====================

        const artVault = new ArtVaultManager();

        // ==================== È°µÈù¢Âä†ËΩΩ‰∏éÂàùÂßãÂåñ ====================

        document.addEventListener('DOMContentLoaded', () => {
            // Ê£ÄÊü•ÂØÜÁ†Å‰øùÊä§
            checkPasswordProtection();

            // ÂàùÂßãÂåñPWA
            initPWA();

            // ÊòæÁ§∫Âø´Êç∑ÈîÆÊèêÁ§∫
            setTimeout(() => {
                const hint = document.getElementById('shortcutHint');
                hint.classList.add('show');
                setTimeout(() => hint.classList.remove('show'), 5000);
            }, 1000);

            // ÊÅ¢Â§çËçâÁ®ø
            const draft = artVault.loadDraft();
            if (draft && confirm('Ê£ÄÊµãÂà∞Êú™ÂÆåÊàêÁöÑË°®ÂçïËçâÁ®øÔºåÊòØÂê¶ÊÅ¢Â§çÔºü')) {
                fillForm(draft);
                showModal();
            }

            // Ê∏≤ÊüìÂàùÂßãÊï∞ÊçÆ
            artVault.renderAll();

            // ËÆæÁΩÆ‰∫ã‰ª∂ÁõëÂê¨Âô®
            setupEventListeners();

            // ÈîÆÁõòÂø´Êç∑ÈîÆ
            setupKeyboardShortcuts();
        });

        // ==================== ‰∫ã‰ª∂ÁõëÂê¨Âô®ËÆæÁΩÆ ====================

        function setupEventListeners() {
            // ÊêúÁ¥¢Ê°ÜÂõûËΩ¶
            document.getElementById('searchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') searchArtworks();
            });

            // ÊêúÁ¥¢Ê°ÜÊ∏ÖÈô§
            document.getElementById('searchInput').addEventListener('input', (e) => {
                if (e.target.value === '') {
                    artVault.renderAll();
                }
            });

            // Ë°®ÂçïËá™Âä®‰øùÂ≠ò
            const formInputs = ['artworkName', 'artistName', 'creationYear', 'artworkType', 'material', 'dimensions', 'estimatedValue', 'description'];
            formInputs.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('input', () => {
                        if (!artVault.editingId) { // Âè™Âú®Êñ∞Â¢ûÊó∂Ëá™Âä®‰øùÂ≠ò
                            artVault.saveDraft(getFormData());
                        }
                    });
                }
            });

            // Ë°®ÂçïÊèê‰∫§
            document.getElementById('artworkForm').addEventListener('submit', (e) => {
                e.preventDefault();
                saveArtwork();
            });

            // ÊãñÊãΩ‰∏ä‰º†
            const uploadLabel = document.getElementById('uploadLabel');
            const fileInput = document.getElementById('artworkImage');

            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadLabel.addEventListener(eventName, (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                });
            });

            ['dragenter', 'dragover'].forEach(eventName => {
                uploadLabel.addEventListener(eventName, () => {
                    uploadLabel.classList.add('dragover');
                });
            });

            ['dragleave', 'drop'].forEach(eventName => {
                uploadLabel.addEventListener(eventName, () => {
                    uploadLabel.classList.remove('dragover');
                });
            });

            uploadLabel.addEventListener('drop', (e) => {
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    fileInput.files = files;
                    handleImageUpload({ target: { files } });
                }
            });

            // Ê®°ÊÄÅÊ°ÜÂ§ñÈÉ®ÁÇπÂáªÂÖ≥Èó≠
            document.getElementById('artworkModal').addEventListener('click', (e) => {
                if (e.target.id === 'artworkModal') {
                    closeModal();
                }
            });
        }

        // ==================== ÈîÆÁõòÂø´Êç∑ÈîÆ ====================

        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', (e) => {
                // Ctrl+N: Êñ∞Â¢û
                if (e.ctrlKey && e.key === 'n') {
                    e.preventDefault();
                    showAddModal();
                }

                // Ctrl+F: ÊêúÁ¥¢
                if (e.ctrlKey && e.key === 'f') {
                    e.preventDefault();
                    document.getElementById('searchInput').focus();
                }

                // Ctrl+S: ‰øùÂ≠òÔºàÂú®Ê®°ÊÄÅÊ°Ü‰∏≠Ôºâ
                if (e.ctrlKey && e.key === 's') {
                    e.preventDefault();
                    if (document.getElementById('artworkModal').classList.contains('active')) {
                        saveArtwork();
                    }
                }

                // Esc: ÂÖ≥Èó≠Ê®°ÊÄÅÊ°Ü
                if (e.key === 'Escape') {
                    closeModal();
                }

                // Ctrl+P: ÂàáÊç¢ÂØÜÁ†Å‰øùÊä§
                if (e.ctrlKey && e.key === 'p') {
                    e.preventDefault();
                    setPassword();
                }
            });
        }

        // ==================== ËßÜÂõæÊéßÂà∂ ====================

        function switchView(view) {
            // Êõ¥Êñ∞ÂØºËà™Áä∂ÊÄÅ
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.view === view) btn.classList.add('active');
            });

            // ÈöêËóèÊâÄÊúâËßÜÂõæ
            document.querySelectorAll('.view-content').forEach(v => v.style.display = 'none');

            // ÊòæÁ§∫ÁõÆÊ†áËßÜÂõæ
            const viewMap = {
                'dashboard': 'dashboard-view',
                'list': 'list-view',
                'ai': 'ai-view',
                'analytics': 'analytics-view',
                'import': 'import-view',
                'settings': 'settings-view'
            };

            if (view === 'add') {
                showAddModal();
                return;
            }

            if (viewMap[view]) {
                document.getElementById(viewMap[view]).style.display = 'block';

                // ÁâπÊÆäÂ§ÑÁêÜ
                if (view === 'analytics') {
                    artVault.renderAnalytics();
                }

                if (view === 'list') {
                    // ÊòæÁ§∫ËßÜÂõæÊ®°ÂºèÂàáÊç¢Âô®
                    document.getElementById('viewModeToggle').style.display = 'flex';
                    // ‰øùÊåÅÂΩìÂâçËßÜÂõæÊ®°Âºè
                    if (artVault.viewMode === 'gallery') {
                        artVault.renderGalleryView();
                    }
                } else {
                    document.getElementById('viewModeToggle').style.display = 'none';
                }
            }

            // Êõ¥Êñ∞Ê†áÈ¢ò
            const titles = {
                'dashboard': 'È¶ÜËóèÊÄªËßà',
                'list': 'ËóèÂìÅÂàóË°®',
                'ai': 'AIÊô∫ËÉΩÂä©Êâã',
                'analytics': 'Êï∞ÊçÆÂèØËßÜÂåñ',
                'import': 'Êï∞ÊçÆÁÆ°ÁêÜ',
                'settings': 'ÂÆâÂÖ®ËÆæÁΩÆ'
            };
            document.getElementById('pageTitle').textContent = titles[view] || 'ArtVault Pro';
        }

        function setViewMode(mode) {
            artVault.viewMode = mode;

            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            document.querySelectorAll('.view-mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // ÈáçÊñ∞Ê∏≤Êüì
            if (mode === 'gallery') {
                artVault.renderGalleryView();
            } else if (mode === 'list') {
                artVault.renderList();
            } else {
                artVault.renderList(); // ÈªòËÆ§ÂàóË°®
            }
        }

        // ==================== Ê®°ÊÄÅÊ°ÜÊéßÂà∂ ====================

        function showModal() {
            document.getElementById('artworkModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('artworkModal').classList.remove('active');
            artVault.editingId = null;
            artVault.clearDraft();

            // ÈáçÁΩÆË°®Âçï
            document.getElementById('artworkForm').reset();
            document.getElementById('imagePreview').classList.remove('active');
            document.getElementById('imagePreview').innerHTML = '';
            document.getElementById('aiSuggestions').style.display = 'none';

            // Ê∏ÖÈô§ÈîôËØØÁä∂ÊÄÅ
            document.querySelectorAll('.form-group').forEach(el => el.classList.remove('error'));
        }

        function showAddModal() {
            artVault.editingId = null;
            document.getElementById('modalTitle').textContent = 'üé® Ê∑ªÂä†Êñ∞ËóèÂìÅ';
            showModal();
        }

        // ==================== Ë°®ÂçïÂ§ÑÁêÜ ====================

        function getFormData() {
            const imagePreview = document.getElementById('imagePreview');
            const imageSrc = imagePreview.classList.contains('active') ? imagePreview.querySelector('img').src : '';

            return {
                name: document.getElementById('artworkName').value.trim(),
                artist: document.getElementById('artistName').value.trim(),
                creationYear: document.getElementById('creationYear').value.trim(),
                type: document.getElementById('artworkType').value,
                material: document.getElementById('material').value.trim(),
                dimensions: document.getElementById('dimensions').value.trim(),
                estimatedValue: document.getElementById('estimatedValue').value,
                description: document.getElementById('description').value.trim(),
                image: imageSrc
            };
        }

        function fillForm(artwork) {
            document.getElementById('artworkName').value = artwork.name || '';
            document.getElementById('artistName').value = artwork.artist || '';
            document.getElementById('creationYear').value = artwork.creationYear || '';
            document.getElementById('artworkType').value = artwork.type || '';
            document.getElementById('material').value = artwork.material || '';
            document.getElementById('dimensions').value = artwork.dimensions || '';
            document.getElementById('estimatedValue').value = artwork.estimatedValue || '';
            document.getElementById('description').value = artwork.description || '';

            if (artwork.image) {
                const preview = document.getElementById('imagePreview');
                preview.innerHTML = `<img src="${artwork.image}" alt="È¢ÑËßà">`;
                preview.classList.add('active');
            }

            document.getElementById('modalTitle').textContent = 'üé® ÁºñËæëËóèÂìÅ';
        }

        async function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (file.size > 5 * 1024 * 1024) {
                artVault.showNotification('ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá5MB', 'warning');
                event.target.value = '';
                return;
            }

            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '<div style="text-align: center; padding: 40px;"><div class="loading"></div><div style="margin-top: 10px; color: var(--text-secondary);">Ê≠£Âú®ÂéãÁº©ÂõæÁâá...</div></div>';
            preview.classList.add('active');

            try {
                const compressed = await artVault.compressImage(file);
                preview.innerHTML = `<img src="${compressed}" alt="È¢ÑËßà">`;
                artVault.showNotification('ÂõæÁâáÂ∑≤ÂéãÁº©Âπ∂È¢ÑËßà', 'success');
            } catch (error) {
                artVault.showNotification('ÂõæÁâáÂ§ÑÁêÜÂ§±Ë¥•', 'error');
                preview.classList.remove('active');
            }
        }

        function generateAIAnalysis() {
            const formData = getFormData();

            if (!formData.name || !formData.artist || !formData.type || !formData.creationYear) {
                artVault.showNotification('ËØ∑ÂÖàÂ°´ÂÜôÂü∫Êú¨‰ø°ÊÅØÔºàÂêçÁß∞„ÄÅËâ∫ÊúØÂÆ∂„ÄÅÁ±ªÂà´„ÄÅÂπ¥‰ª£Ôºâ', 'warning');
                return;
            }

            const aiContainer = document.getElementById('aiSuggestions');
            const aiContent = document.getElementById('aiContent');
            const valueEstimate = document.getElementById('valueEstimate');
            const estimateAmount = document.getElementById('estimateAmount');
            const estimateConfidence = document.getElementById('estimateConfidence');

            // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅ
            aiContainer.style.display = 'block';
            aiContent.innerHTML = '<div class="loading"></div> AIÊ≠£Âú®ÂàÜÊûê...';
            valueEstimate.style.display = 'none';

            // Ê®°ÊãüAIÂ§ÑÁêÜÂª∂Ëøü
            setTimeout(() => {
                const analysis = artVault.generateAIAnalysis(formData);

                // ÊòæÁ§∫Ê†áÁ≠æÂª∫ËÆÆ
                aiContent.innerHTML = analysis.tags.map(tag =>
                    `<div class="suggestion-item">${tag}</div>`
                ).join('');

                // ÊòæÁ§∫È¢ùÂ§ñÂª∫ËÆÆ
                if (analysis.suggestions.length > 0) {
                    aiContent.innerHTML += '<div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--border-color);"><strong style="color: var(--accent-gold);">üí° ‰∏ì‰∏öÂª∫ËÆÆÔºö</strong></div>';
                    analysis.suggestions.forEach(suggestion => {
                        aiContent.innerHTML += `<div class="suggestion-item">${suggestion}</div>`;
                    });
                }

                // ÊòæÁ§∫‰º∞ÂÄº
                estimateAmount.textContent = `¬•${analysis.estimatedValue.toLocaleString()}`;
                estimateConfidence.textContent = `ÁΩÆ‰ø°Â∫¶: ${analysis.confidence}%`;
                valueEstimate.style.display = 'block';

                // Ëá™Âä®Â°´ÂÖÖ‰º∞ÂÄºÔºàÂ¶ÇÊûú‰∏∫Á©∫Ôºâ
                const valueInput = document.getElementById('estimatedValue');
                if (!valueInput.value) {
                    valueInput.value = analysis.estimatedValue;
                }

                artVault.showNotification('AIÂàÜÊûêÂÆåÊàêÔºÅ', 'success');
            }, 1500);
        }

        function saveArtwork() {
            const formData = getFormData();

            // È™åËØÅ
            const errors = artVault.validateArtwork(formData);
            if (errors.length > 0) {
                // ÊòæÁ§∫ÈîôËØØ
                errors.forEach(err => {
                    const group = document.getElementById(`group-${err.field}`);
                    if (group) {
                        group.classList.add('error');
                        setTimeout(() => group.classList.remove('error'), 3000);
                    }
                });
                artVault.showNotification(errors[0].message, 'error');
                return;
            }

            // ‰øùÂ≠ò
            if (artVault.addArtwork(formData)) {
                closeModal();
            }
        }

        // ==================== ÊêúÁ¥¢ÂíåÁ≠õÈÄâ ====================

        function searchArtworks() {
            const query = document.getElementById('searchInput').value.trim();
            const results = artVault.searchArtworks(query);

            // ÂàáÊç¢Âà∞ÂàóË°®ËßÜÂõæ
            switchView('list');

            // Â¶ÇÊûúÊòØÁîªÂªäÊ®°ÂºèÔºå‰ΩøÁî®ÁîªÂªäÊ∏≤Êüì
            if (artVault.viewMode === 'gallery') {
                artVault.renderGalleryView();
            } else {
                artVault.renderList();
            }

            artVault.showNotification(`ÊâæÂà∞ ${results.length} ‰ª∂ÂåπÈÖçÁöÑËóèÂìÅ`, 'success');
        }

        function filterArtworks(filter) {
            artVault.currentFilter = filter;

            // Êõ¥Êñ∞Ê†áÁ≠æÁä∂ÊÄÅ
            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.classList.remove('active');
                if (tag.dataset.filter === filter) tag.classList.add('active');
            });

            artVault.renderAll();
        }

        function resetFilters() {
            document.getElementById('searchInput').value = '';
            artVault.currentFilter = 'all';
            document.querySelectorAll('.filter-tag').forEach(tag => tag.classList.remove('active'));
            document.querySelector('.filter-tag[data-filter="all"]').classList.add('active');
            artVault.renderAll();
            artVault.showNotification('Á≠õÈÄâÂ∑≤ÈáçÁΩÆ', 'info');
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            artVault.renderAll();
        }

        // ==================== ÊâπÈáèÊìç‰Ωú ====================

        function toggleSelectAll() {
            const selectAll = document.getElementById('selectAll').checked;
            const artworks = artVault.searchArtworks('', artVault.currentFilter);

            if (selectAll) {
                artworks.forEach(a => artVault.selectedItems.add(a.id));
            } else {
                artVault.selectedItems.clear();
            }

            // Êõ¥Êñ∞ÊâÄÊúâÂ§çÈÄâÊ°Ü
            document.querySelectorAll('.row-checkbox').forEach(cb => cb.checked = selectAll);
            artVault.updateBatchActions();
        }

        function batchExport() {
            const selected = artVault.getSelectedArtworks();
            if (selected.length === 0) {
                artVault.showNotification('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÂØºÂá∫ÁöÑËóèÂìÅ', 'warning');
                return;
            }

            const dataStr = JSON.stringify(selected, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `artvault_selected_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);

            artVault.showNotification(`Â∑≤ÂØºÂá∫ ${selected.length} ‰ª∂ËóèÂìÅ`, 'success');
        }

        function batchDelete() {
            const selected = artVault.getSelectedArtworks();
            if (selected.length === 0) {
                artVault.showNotification('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÂà†Èô§ÁöÑËóèÂìÅ', 'warning');
                return;
            }

            if (confirm(`Á°ÆÂÆöË¶ÅÂà†Èô§ÈÄâ‰∏≠ÁöÑ ${selected.length} ‰ª∂ËóèÂìÅÂêóÔºü`)) {
                selected.forEach(a => {
                    artVault.artworks = artVault.artworks.filter(item => item.id !== a.id);
                });
                artVault.saveToStorage();
                artVault.clearSelection();
                artVault.renderAll();
                artVault.showNotification(`Â∑≤Âà†Èô§ ${selected.length} ‰ª∂ËóèÂìÅ`, 'warning');
            }
        }

        // ==================== Êï∞ÊçÆÂØºÂÖ•ÂØºÂá∫ ====================

        function exportData() {
            artVault.exportData();
        }

        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const data = JSON.parse(e.target.result);
                    artVault.importData(data);
                } catch (error) {
                    artVault.showNotification('Êñá‰ª∂Ê†ºÂºèÈîôËØØÔºåËØ∑ÈÄâÊã©ÊúâÊïàÁöÑJSONÊñá‰ª∂', 'error');
                }
            };
            reader.readAsText(file);

            // Ê∏ÖÁ©∫input
            event.target.value = '';
        }

        function clearAllData() {
            artVault.clearAll();
        }

        // ==================== ÂØÜÁ†Å‰øùÊä§ ====================

        function checkPasswordProtection() {
            const storedHash = localStorage.getItem('artvault_password');
            if (storedHash) {
                document.getElementById('passwordModal').style.display = 'flex';
                document.getElementById('passwordInput').focus();
            }
        }

        function verifyPassword() {
            const input = document.getElementById('passwordInput').value;
            const storedHash = localStorage.getItem('artvault_password');

            if (btoa(input) === storedHash) {
                document.getElementById('passwordModal').style.display = 'none';
                document.getElementById('passwordInput').value = '';
                artVault.showNotification('Ê¨¢ËøéÂõûÊù•ÔºÅ', 'success');
            } else {
                const error = document.getElementById('passwordError');
                error.style.display = 'block';
                error.textContent = 'ÂØÜÁ†ÅÈîôËØØÔºåËØ∑ÈáçËØï';
                setTimeout(() => error.style.display = 'none', 2000);
            }
        }

        function setPassword() {
            const password = prompt('ËØ∑ËÆæÁΩÆËÆøÈóÆÂØÜÁ†ÅÔºàÁïôÁ©∫ÂàôÂèñÊ∂àÔºâÔºö');
            if (password === null) return;

            if (password === '') {
                localStorage.removeItem('artvault_password');
                artVault.showNotification('ÂØÜÁ†ÅÂ∑≤Ê∏ÖÈô§', 'success');
                return;
            }

            const confirmPassword = prompt('ËØ∑Á°ÆËÆ§ÂØÜÁ†ÅÔºö');
            if (password === confirmPassword) {
                const hash = btoa(password);
                localStorage.setItem('artvault_password', hash);
                artVault.showNotification('ÂØÜÁ†ÅËÆæÁΩÆÊàêÂäü', 'success');
            } else {
                artVault.showNotification('ÂØÜÁ†Å‰∏çÂåπÈÖç', 'error');
            }
        }

        function removePassword() {
            if (confirm('Á°ÆÂÆöË¶ÅÁßªÈô§ËÆøÈóÆÂØÜÁ†ÅÂêóÔºü')) {
                localStorage.removeItem('artvault_password');
                artVault.showNotification('ÂØÜÁ†ÅÂ∑≤ÁßªÈô§', 'success');
            }
        }

        // ==================== PWAÊîØÊåÅ ====================

        function initPWA() {
            // ÁîüÊàêManifest
            const manifest = {
                "name": "ArtVault Pro - Êô∫ËÉΩËâ∫ÊúØÈ¶ÜËóèÁÆ°ÁêÜ",
                "short_name": "ArtVault",
                "start_url": ".",
                "display": "standalone",
                "background_color": "#0f0f13",
                "theme_color": "#d4af37",
                "description": "Êú¨Âú∞ËøêË°åÁöÑÊô∫ËÉΩËâ∫ÊúØÈ¶ÜËóèÁÆ°ÁêÜÂπ≥Âè∞ÔºåÊîØÊåÅAIÂàÜÊûê„ÄÅÂõæÁâáÂéãÁº©„ÄÅÊï∞ÊçÆÂèØËßÜÂåñ",
                "icons": [
                    {
                        "src": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Crect fill='%23d4af37' width='512' height='512'/%3E%3Ctext x='50%25' y='50%25' font-size='300' text-anchor='middle' dy='.35em' fill='%230f0f13'%3Eüé®%3C/text%3E%3C/svg%3E",
                        "sizes": "512x512",
                        "type": "image/svg+xml"
                    }
                ]
            };

            const blob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.getElementById('manifest-link');
            link.href = url;

            // Ê≥®ÂÜåService WorkerÔºàÂèØÈÄâÔºâ
            if ('serviceWorker' in navigator) {
                const swCode = `
                    self.addEventListener('install', e => e.waitUntil(self.skipWaiting()));
                    self.addEventListener('activate', e => e.waitUntil(self.clients.claim()));
                    self.addEventListener('fetch', e => e.respondWith(fetch(e.request).catch(() => {
                        return new Response('Á¶ªÁ∫øÊ®°Âºè - Êï∞ÊçÆÂ∑≤‰øùÂ≠òÂú®Êú¨Âú∞', {
                            headers: { 'Content-Type': 'text/plain' }
                        });
                    })));
                `;

                const swBlob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(swBlob);

                navigator.serviceWorker.register(swUrl).catch(() => {});
            }
        }

        function installPWA() {
            if (window.matchMedia('(display-mode: standalone)').matches) {
                artVault.showNotification('Â∫îÁî®Â∑≤ÂÆâË£Ö', 'info');
                return;
            }

            artVault.showNotification('ËØ∑Âú®ÊµèËßàÂô®ËèúÂçï‰∏≠ÈÄâÊã©"Ê∑ªÂä†Âà∞‰∏ªÂ±èÂπï"', 'info');
        }

        // ==================== UIËæÖÂä©ÂáΩÊï∞ ====================

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');

            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');
        }

        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-open');
        }

        function showShortcuts() {
            const hint = document.getElementById('shortcutHint');
            hint.classList.add('show');
            setTimeout(() => hint.classList.remove('show'), 8000);
        }

        function animateValue(id, start, end, duration, isCurrency = false) {
            const element = document.getElementById(id);
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;

            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    current = end;
                    clearInterval(timer);
                }

                const displayValue = isCurrency ? `¬•${Math.floor(current).toLocaleString()}` : Math.floor(current);
                element.textContent = displayValue;
            }, 16);
        }

        // ==================== ËØ≠Ë®ÄÂàáÊç¢ ====================

        function switchLanguage(lang) {
            artVault.switchLanguage(lang);
            // ËøôÈáåÂèØ‰ª•Êâ©Â±ïÂÆåÊï¥ÁöÑUIÊñáÊú¨ÁøªËØë
            if (lang === 'en') {
                document.getElementById('pageTitle').textContent = 'Dashboard';
                // Êõ¥Â§öÁøªËØë...
            }
        }

        // ==================== Á™óÂè£ÁÑ¶ÁÇπÂ§ÑÁêÜ ====================

        window.addEventListener('beforeunload', (e) => {
            // Ê£ÄÊü•ÊòØÂê¶ÊúâÊú™‰øùÂ≠òÁöÑË°®Âçï
            if (document.getElementById('artworkModal').classList.contains('active')) {
                const draft = getFormData();
                if (Object.values(draft).some(v => v)) {
                    e.preventDefault();
                    e.returnValue = '';
                }
            }
        });

        // ==================== ÊÄßËÉΩ‰ºòÂåñ ====================

        // Èò≤ÊäñÂáΩÊï∞
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // ËäÇÊµÅÂáΩÊï∞
        function throttle(func, limit) {
            let inThrottle;
            return function() {
                const args = arguments;
                const context = this;
                if (!inThrottle) {
                    func.apply(context, args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            };
        }

        // ‰ºòÂåñÊªöÂä®ÊÄßËÉΩ
        const optimizedScroll = throttle(() => {
            // ÂèØ‰ª•Âú®ËøôÈáåÊ∑ªÂä†ÊªöÂä®Êó∂ÁöÑ‰ºòÂåñÈÄªËæë
        }, 100);

        window.addEventListener('scroll', optimizedScroll);

    </script>
</body>
</html>
